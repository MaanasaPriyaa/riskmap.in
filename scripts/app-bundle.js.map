{"version":3,"sources":["app.js","environment.js","main.js","resources/config.js","resources/report-card.js","components/card-notification/card-notification.js","components/component-template/component-template.js","components/depth-bg/depth-bg.js","components/disaster-map/disaster-map.js","components/disaster-map/map-layers.js","components/disaster-map/map-utility.js","components/flood-info/flood-info.js","components/gauge-info/gauge-info.js","components/report-info/report-info.js","components/side-pane/side-pane.js","routes/cards/cards.js","routes/landing/landing.js","routes/cards/card-template/card-template.js","routes/cards/card-landing/card-landing.js","routes/cards/description/description.js","routes/cards/error/error.js","routes/cards/depth/depth.js","routes/cards/location/location.js","routes/cards/photo/photo.js","routes/cards/review/review.js","routes/cards/terms/terms.js","routes/cards/thanks/thanks.js","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/app.html","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/components/component-template/component-template.html","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/components/card-notification/card-notification.html","styleSheets/themeGuide.less","app.less","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/components/depth-bg/depth-bg.html","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/components/disaster-map/disaster-map.html","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/components/flood-info/flood-info.html","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/components/gauge-info/gauge-info.html","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/components/report-info/report-info.html","components/card-notification/card-notification.less","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/components/side-pane/side-pane.html","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/routes/cards/cards.html","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/routes/landing/landing.html","components/disaster-map/disaster-map.less","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/routes/cards/card-landing/card-landing.html","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/routes/cards/card-template/card-template.html","components/flood-info/flood-info.less","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/routes/cards/depth/depth.html","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/routes/cards/description/description.html","components/gauge-info/gauge-info.less","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/routes/cards/error/error.html","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/routes/cards/location/location.html","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/routes/cards/photo/photo.html","components/report-info/report-info.less","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/routes/cards/review/review.html","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/routes/cards/terms/terms.html","components/side-pane/side-pane.less","/Users/Maanasa/Documents/FloodMapping/Cognicity/petabencana.id/src/routes/cards/thanks/thanks.html","routes/cards/cards.less","routes/landing/landing.less","routes/cards/card-template/card-template.less","routes/cards/depth/depth.less","routes/cards/description/description.less","routes/cards/error/error.less","routes/cards/location/location.less","routes/cards/photo/photo.less","routes/cards/review/review.less","routes/cards/terms/terms.less","routes/cards/thanks/thanks.less"],"names":["App","configureRouter","config","router","title","options","pushState","root","map","route","name","moduleId","mapUnknownRoutes","debug","testing","tile_layer","data_server","app","default_language","supported_languages","enable_test_cardid","configure","Promise","longStackTraces","warnings","wForgottenReturn","aurelia","use","standardConfiguration","developmentLogging","plugin","start","then","a","setRoot","Config","cards","ReportCard","metadata","Metadata","singleton","changeLanguage","lang","$","getJSON","data","each","key","val","locale","self","selLanguage","languages","location","markerLocation","gpsLocation","accuracy","supported","depth","photo","file","rotation","description","value","network","errors","code","text","CardNotification","callClose","closeNotification","ComponentTemplate","attached","y","DepthBg","L","DisasterMap","MapLayers","MapUtility","layers","utility","cities","city","instance_regions","push","selected_city","togglePane","ref","action","clear_selection","fadeOut","selected_report","reportid","history","report_id","target","setIcon","mapIcons","report_normal","selected_extent","setStyle","mapPolygons","normal","selected_gauge","gauge_normal","gaugeIconUrl","feature","properties","observations","length","f3","popupContent","toggleClass","hasClass","get","empty","resetTab","fadeIn","viewReports","city_name","push_state","changeCity","activeReports","hasOwnProperty","tags","instance_region_code","parseCityObj","region","fire","addSingleReport","reportRegion","report","queryReportCity","parseCityName","queriedReport","catch","noReportNotification","attributionControl","center","zoom","minZoom","tileLayer","detectRetina","subdomains","ext","addTo","control","scale","position","metric","imperial","Control","GeoLocate","extend","onAdd","geolocateContainer","geoLocate","opts","locate","setView","on","e","onLocationFound","clientLocation","querycity","window","onpopstate","state","topojson","icon","iconUrl","iconSize","iconAnchor","report_selected","url","gauge_selected","weight","opacity","selected","level","formatTime","timestamp_ISO8601","timeZoneDifference","utc","Date","getTime","localTime","timestring","toISOString","split","t1","slice","d1","d2","getData","end_point","client","resolve","reject","topology","JSON","parse","response","statusCode","result","objects","output","err","reportInteraction","layer","pkey","click","flyTo","_latlng","prop","timestamp","created_at","floodExtentInteraction","panTo","getCenter","drawGaugeChart","html","ctx","getContext","labels","datasets","label","backgroundColor","borderColor","pointBackgroundColor","pointBorderColor","pointRadius","i","f1","f2","gaugeChart","type","bezierCurve","legend","display","scaleLabel","scales","xAxes","time","unit","unitStepSize","displayFormats","tooltips","enabled","gaugeInteraction","console","log","gauge_name","gaugenameid","appendData","localObj","addData","reports","features","addReports","city_region","createPane","getPane","style","zIndex","removeLayer","geoJSON","onEachFeature","pointToLayer","latlng","marker","pane","addFloodExtents","flood_extents","cursor","fillColor","color","fillOpacity","removeFloodExtents","addFloodGauges","gaugeLayer","removeFloodGauges","notify","addStyle","classes","info","error","region_code","show","default_region","hide","cityObj","flyToBounds","bounds","sw","ne","once","setMaxBounds","className","regions","clientCityIsValid","latitude","longitude","clientCity","drawGpsMarkers","gpsAccuracy","circle","radius","gpsMarker","circleMarker","viewClientLocation","removeFrom","container","DomUtil","create","innerHTML","fontSize","textAlign","lineHeight","width","height","onclick","FloodInfo","GaugeInfo","ReportInfo","links","qlue","detik","grasp","shareButtons","intent","msgText","reportUrl","report_info","share_msg","SidePane","tabList","tab","videos","platform","source","gauge_levels","flood_depth","addClass","switchTab","removeClass","switchLang","switchCity","reportId","closePane","showVideo","video","slideUp","slideToggle","toggle","Cards","ea","data_src","test_card","reportcard","region_bounds","page_title","activate","params","id","disaster","obj","addRoute","routes","settings","cardNo","parseInt","refreshNavigation","resizeCardHt","factor","glitchHeight","css","attr","nua","navigator","userAgent","toLowerCase","test","indexOf","resize","totalCards","document","ready","msg","received","card_error_messages","already_received","navigate","replace","unknown_link","unknown_error","statusText","subscribe","photoToUpload","fileList","put","x","withBaseUrl","withHeader","signedURL","signedRequest","ajax","contentType","processData","cache","success","showNotification","header","message","bespoke","notify_type","notify_header","notify_message","notify_custom","finish","slideDown","delay","dequeue","logUserAgent","isLocationSupported","l","lat","lng","nextCard","currentInstruction","fragment","location_check","count","prevCard","Landing","routerConfig","queried_city","resizeSidePane","CardTemplate","CardLanding","Description","isMobile","clearText","onBlur","focussed","onFocus","setFocus","focus","Error","errorCode","errorText","Depth","sliderActive","imgHeightCm","maxHtLimitCm","minHtLimitCm","refHeightPx","fillHeightPx","reportHeightCm","Math","round","startPos","originalEvent","touches","pageY","clientY","dragPos","preventDefault","Location","EventAggregator","geolocation","publish","wrapper","cntxt","Photo","haveImg","enableUpload","uploadSupported","version","rest","substring","parseFloat","preview","drawImage","sendClick","trigger","deg","reader","FileReader","onload","reviewImg","Image","imgW","imgH","trlX","trlY","translate","rotate","PI","src","readAsDataURL","sizeCheck","size","rotatePhoto","deletePhoto","clearRect","Review","water_depth","image_url","imageObject","checkRequiredInputs","slideRange","slideThreshold","slideTranslate","slidePressed","swiped","slideStartPos","pageX","clientX","slideDragPos","animate","readTerms","Terms","Thanks","network_name","charAt","toUpperCase","setTimeout"],"mappings":"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V,OAAhB,CAAwB,MAAxB;AACD,OAFD,EAEG,IAFH;AAGD;;;;;ACjBH;ACAA;ACAA;AC8JA;AE9JA,EF+JI,aAAA;AADJ;AG9JA,AFEA,ED6JI,aAAA;AI/JJ,AHEM;AD4JN,EC3JE,yBAAA;AIHF,ELyGE,AAsDE,WAtDF,EAsDE;AM/JJ,EN0GE,YAAA;AAoDF,EAnDE,WAAA;AQ3GF,ER4GE,AAmDE,YAnDF,CAmDE;AS/JJ,ERKE,gBAAA;ASLF,AHEA;AP4JA,EO3JE,kBAAA;AKHF,ELIE,AP2JE,QO3JF,KP2JE;Aa/JJ,ENKE,WAAA;AIHF,AX4JA,EOxJE,mBAAA;AQNF,EROE,AIJA,AX4JE,aOxJF,APwJE,KW5JF;AKHF,ETQE,APiGA,WAAA,4BOjGA;AONF,Ad4JA,EOrJE,APiGA,YAAA,COjGA;AWTF,EJGE,AdwGA,AAoDE,WApDF,EAoDE,Kc5JF;AKHF,AZUE,EONA,AdwGA,UcxGA,EPME,APkGF;AoB5GF,AHEA,EVSI,kBAAA;AIJJ,AGFE,AdyJF,EOlJI,AUTF,UVSE,AOPA,QGFF;AKHF,EfaI,AILF,AGFE,AGFF,AjB2JE,SczJA,CGFF,CVSE,EPkJA,gCWvJF;AYRF,EhBcI,AILF,AGFE,aAAA,EHEF,EJKE;AUTF,AIHF,ArB4JA,EO/II,AILF,AXoDA,UiBzDE,GjByDW,EO/CX,IILF,WXoD8B,mBAA9B;AyB9DF,ElBgBI,AILF,AMLE,AIHF,ArB4DA,AAgGE,SiBzJA,GNKF,CXoJE,CO/IA,CP+CF,GqB5DA;ArB2JF,EWlJE,AMLE,AIHF,ArB4DA,UiBzDE,AIHF,IrB4DA,IWpDA;AJMA,AiBhBF,AxB4JA,EWjJE,AGJE,AOJF,ArByDA,AAiGE,WqB1JF,CdaE,CP4CW,AAiGX,CWlJF,AGJE,gBdqD4B,mBAA9B;AAgGF,EO3II,AILF,AGJE,AOJF,AGHA,AxB4DA,AAgGE,WqBzJF,ErByJE,EAhGF,GO5CE,AILF,AGJE,AUPF;AEAA,A1B2JF,EO1II,AILF,AURA,AGHA,AxB4DA,AA+FE,SWhJF,CJKE,CiBhBF,ExB2JE,CA/FF,WqBzDA;APIE,AaTJ,A3B4JA,EOzII,AUZA,AOJF,AEiJF,A1BSI,Uc1JA,EPgBA,AOVE,AUNJ,CxB0JE,CiBtJA;AIDF,AONF,A5B4JA,EOxII,AOVE,AGFF,AOJF,AGHA,A3B4JE,E0B3JA,SLIA,CGFF,CxByJE,CcnJE,EPUF,EUZA,AUPF,EDCE;AGFJ,A7B4JA,EqBrJI,AGFF,AxBkGA,AAQA,AA8CE,WAtDF,EAsDE,KqBtJA,ArBwGF,cwB1GA;AjBgBE,AONJ,AGHA,AaZA,A9B4JA,EqBpJI,ArBgGF,AAOA,AACA,AA6CE,QqBrJA,IdQA,APwFF,AAQA,CA6CE,IOxIE,CP0FJ;AwBzGA,AEHE,AKHJ,A/B4JA,EOtIM,AONJ,AGHA,AjB4BA,AAgEA,AAMA,AACA,AACA,AA4CE,MwBvJA,GAAE,CjBgBA,CPmFJ,CAOA,CACA,AA4CE,EApHa,E0BtCa,CZa5B,AGHA,AjBkGA,kBAtEA;AgCzCF,AGFA,E5ByBM,AONJ,AGHA,AOPE,AE6IJ,AKnJE,A/ByCA,AAgEA,AAMA,AACA,AACA,AA2CE,SA3CF,CcjGA,AGHA,EjB4FA,AAMA,CACA,AA4CE,COtIE,IiBhBF,AONF,C/ByCmB,qBAAnB;AiC1CF,AjC4JA,EOpIM,AiBhBF,AONF,AIHA,AnC4CA,AA4DA,AAUA,AACA,AACA,E0B/GI,M1B+GJ,CADA,CO1FI,AwBtBJ,C/ByCW,AA4DX,CwB/FE,CEJE,A1B6GJ,KmClHA,cnC4CA;AczBA,AGHA,AiBfF,APIE,ENgBE,AGXA,AONF,AIHA,AnCyCA,AAmBA,AA4CA,AAOA,AAGA,AACA,AA0CE,QA1CF,CiBpGE,AjBmGF,CchGE,AOEA,AcpBF,ARIE,E3BoGF,CA5Ca,AAiGX,C+B1JF,C/BsCe,GAsEf,GwBtGE,SxBmD4B,GAnB9B,gBAmBA;EczCE,AGHA,AONA,AONF,AIHA,ARIE,A3BoCF,AACA,AAmBA,AA4CA,AAMA,AACA,AAGA,QAAA,CchGE,AUTA,EWTF,AnCwGA,CAOA,GAvEe,AAoBf,G2BxDE,A3B0GF,CArEmB,CiB1BjB,EcZF,W/BqCA,IACA;AqBjCE,AKJE,AULN,EtBoBI,AGHA,AONA,AONF,AIHA,AnCuCA,AACA,AACA,AAmBA,AAyCA,AAGA,AAMA,AACA,UwBtGE,CHLA,ArBqCS,AA4DX,CcnFE,AiBfF,AIHA,AnCwGA,AAMA,CACA,CAnDA,CArBe,E0BtCa,CLMzB,CrBiCgB,EiBzBjB,QjB0BF,IAFA,IACA,G0BrC+B;EnBqB3B,AURF,AIRE,AGEF,AEwIJ,AK9IE,AIHA,ACFA,ApCyCA,AACA,AAiBA,AA4CA,AASA,AACA,AAOA,SqB/GI,ArBwGJ,EwBtGE,AxB+BS,CmCxCX,AnCqGA,CA5Ca,AAqDb,COvFI,AURF,GjBuGF,CoCxHA,CpCyCmB,UACnB,CAiB8B,E+BtD9B,K/BoCA,YAkBA;AgC1DA,EfiBE,AIRE,AcPJ,ACFA,ApCyCA,AAkBA,AA4CA,AASA,AACA,AAMA,E0BnHM,M1B6GN,CADA,CiB/FE,AmBjBF,CpCyCW,AA8DX,G0BnGM,AMJJ,CXSE,ArBkDJ,CmCzDA,CnCqHA,YA9EA;AOfE,AiBfA,AONF,A/B8GA,EqBzGI,AWTF,AGEF,ACFA,ApCsCA,AAqBA,AA4CA,AASA,AAMA,MwBnHE,COCA,CKJF,ApCgHA,CwB7GI,EWDJ,C5BWE,AP0FF,EwB7FI,AxBiDJ,CArBe,CqB7BX,CdgBA,APyFkC,AAItC,CgCtHE,ehCsCF;AA4EA,EOxFI,AOPF,AURE,AONF,AIFF,ACFA,ATGE,A3BkCF,AACA,AA6DA,AAwDF,SoC3JE,C7ByBI,AwBrBF,CPME,AxByFJ,GcjFE,CdmBa,EA4EuB,EmC/GtC,AnCoCmB,cADnB,IACA,M2BnCE;ANOA,AKNE,A1B6GJ,EOvFI,AOPF,AURE,AWRJ,ARCE,A3BiCF,AACA,AACA,AA6DA,AAuDF,EAzCI,OOxFE,CPwFF,CqBhHA,ArBqCS,CwB5BP,AxByFJ,C2BhGE,EQDF,AnCkCe,E0BtCa,A1BkHU,Cc9FpC,AOTC,CrB4BgB,UACnB,KAFA,GACA,G0BlC+B;AKIjC,ExBmBM,AchBA,AGCA,AEoIN,AS5IE,AnCkCA,AACA,AA8DA,AAgBA,AAsCF,EAtHE,AA6EE,OqBvGE,CrBuGF,CA3ES,AA8DX,EmCjGa,InCiCE,AAgFf,CwBzGI,CjBeA,APWe,UACnB,CmCnC8B,QnCiC9B,AACA,oBmClCA;ArBiBA,AahBE,ENOE,AUHJ,AIJA,AnCkCA,AAKA,AA0DA,AAeA,E0BhHM,A1BgCN,AACA,AA4EE,Qc7FA,AarBA,A3BkHA,CA3ES,CmClCX,AnCiGA,CA1Da,EqBhCT,AKPE,E1BgCS,AAgFf,C+B5GA,AJJI,G3BiCe,QAMU,CAL7B,QAFA,IACA,MAMA;AwB/BI,AxBoGJ,Ec3FE,AOTE,AUHJ,ACTE,AGKF,ACJA,ATII,A3BuCJ,E0BvCM,A1B+BN,AACA,AACA,IwBrCE,GAAE,COQJ,ACTE,CICF,CfWI,CrB0BO,CcjBT,AUbE,CGHA,A3BuCJ,EwBhCK,AxBwBU,AA4EuB,IA3EnB,WmChCnB,EnCiCA,IAFA,IACA,M0BhCM;A1B2GN,Ec1FE,AUTI,AOHN,AIJA,ACJA,ATII,A3BuCJ,AA6GF,EArHE,AACA,KmChCA,CRAI,EHOE,EOHN,C/B4BW,CAOX,GAmEsC,CoC9GtC,GpCmCmB,IcfjB,SdgBF,QADA;AqBlBF,AWjBE,EzB0BI,A4BrBJ,ACJA,ATII,A3BmJN,EApHE,AA2EE,O2B1GE,C3B0GF,CmC1GS,EnC+BA,COVP,AyB1BF,CICF,UDIA,SnC+BA;AcdA,AUVM,AENJ,AKIF,EVQA,AWjBE,AICF,ATII,E3B4BJ,AA6EE,IwBhHA,GAAE,AOWF,CjBYA,AdyFA,E2BzGE,CSJS,CZIT,GAIC,AEJuB,A1B4Bb,CqBhBf,AWjBE,QRWM,IAAG,AYVmB,QpCgC9B,oBoChCA;A7B2BA,AsBlCA,AMaF,EdWE,AGNQ,AEgIV,AM3II,AhCgCF,AAOA,EAPA,AACA,OgCjCE,CXiBF,CGNQ,AKlBN,AMaU,C5BqBV,CPYW,EAPE,EAAA,IACI,QAMU,OAP7B,EAAA,IACA,MAMA;A8B7CA,AMWF,E7BuBI,AcVF,AGNQ,AKlBN,AGOA,AGMF,AnC0BA,AAOA,E0BnCI,A1B4BJ,AACA,MgCjCE,EHPA,CRwBF,ErBgBW,C0B7BP,CFOI,AxB4BR,CmCjCA,CLbE,CvBkCA,CPKiB,EAAA,aACnB,MADA,EAAA;EOJE,AcVF,AGNQ,AKlBN,ACAA,AKaF,ACFA,ApC0BA,AAEA,AAOA,E0BnCI,A1B4BJ,MOLE,GsBlCA,A7BuCS,CqBfX,AebA,CDEa,AnC0BF,C0B5BP,A1BmCJ,CATe,EwBnBP,CMlBN,YKa4B,EnC0B9B,EAAA,EAFA,sBmCxBA;E5BsBE,AcVF,AQxBE,ACAA,ACcA,AKHF,ATDI,A3B2BJ,AAMA,E0BhCI,QnBuBF,AsBlCA,ECAA,CHUE,A3BiCS,C+B7BX,CKHF,CfaA,GrBamB,UAMU,WAN7B,Q0B1BI,A1BgCJ;AiC9CA,EHIE,AMWF,ATDI,A3B2BJ,AAMA,AAuBA,WiCtEE,AjCyCS,C2B3BP,CGVF,AMWW,ApCuDA,EAvBb,cAuB6B,CoCvDC,EpC0B9B,gBA6BA,UoCvDA;AfaE,AQvBF,AEcA,AGnBA,EJKE,AEKA,ACTA,ANcE,A3BiCJ,AAuBA,S+BpDE,CVSE,CQvBF,CKLA,ElCgDF,CgCtCE,AhC6DF,E8BlEE,CGJA,ANcE;ADAA,AUGN,EfWI,AQvBA,ACAA,AEKA,ACTA,ACDA,APeE,A3B8BJ,AA0BA,UqB3CE,ESvBA,AEKA,ChCmCW,CA0Bb,G0B7D4B,AOT1B,CJIA,AKLA,WlC6C2B,W0B/BE,OCC3B,C3B8BJ;AwBxBQ,EHQN,AKoHJ,AG3II,ACAA,AGJA,ACDA,AEiBF,ATFI,A3B8BJ,AA0BA,MwBrEE,GAAE,CKGF,CRuBA,Aa5BA,CDCA,CHIa,AHUX,CHNA,CxBoCJ,AA0BA,EwB1DK,CYIL,QZFQ,GMVuB,CNUpB,SAKD,SMfR;EvBgCA,AcRA,AGRQ,AKfR,ACAA,AGJA,ACDA,AEiBF,ATFI,A3B8BJ,E0BhCM,SGRJ,CIJA,CTmBQ,AUpBR,CRaI,AIRJ,A9BwCF,YoC5BA,K7BmBE,CcRA,KMbE;ENcF,AGRQ,AKfR,ACAA,ACYA,AEhBA,ACDA,AEiBF,SFjBE,CLKA,AOYF,ENZE,ECYA,IVWA,AGRQ,WSnBR;ANcE,A3BuDJ,EwBjDU,AKfR,ACAA,AILA,AEiBF,MpCoD0B,GkCrExB,AEiBF,CTpBE,CEQA,CLeQ,GMfR,GHHE,WAYE;ANeJ,AKhBE,AKKJ,AEjBE,EToBQ,AMfR,AMYF,ApCgBA,AAmBA,AAiBE,S+BpDA,AKAF,CfKI,AGFM,CS1BR,CHWA,C9B+CW,COxBX,CPKa,E0B5Ba,MLuBxB,GY5BA,IjCoD0B,GAnB9B,AAoCG,CApCH,M0BrB+B,S1BwC/B;E0BwFF,AItII,AGLE,AjCgCJ,AACA,AAMA,AAaA,AAKA,AAqBA,EATI,WA9BS,AAkBA,AAqBA,EA9CE,AAoBf,CAiBI,EiCrEA,CjCiCe,M8B5BjB,G9BoD0B,CAlBC,CAuCC,GA9C9B,IACA,CAAA,SAwBA,CAlBA,CAuCA;E8BxEE,AGLE,AjCgCJ,AACA,AAMA,AAaA,AAKA,AAqBA,E0BnEM,SOXF,AjCiCO,E8B5BT,C9B+CF,C0BzCM,A1B4BN,AAkBA,AAqBA,IA9CmB,UACnB,CAAA,OADA;E6B5BE,AIHE,ACFF,APcI,A3BoBN,AAOA,AAkBA,AAqBA,WA9CW,C6B7BT,AIHE,EjCuCJ,AAkBA,AAqBA,G2BlEM,QOdJ,IlCkCF;A8B3BE,A9BiEF,EqB3CI,AGRM,AKfR,AIHE,ACFF,AEiBF,ApC+DA,UqBpDI,EdFF,A6BTF,EZGU,CxB4DV,E8BvFE,CGSE,SHID,CDDD,G7BkED,ekCvEC;ARiBJ,ACFM,ENcA,AGRM,AKfR,ACCE,ACUF,AEdE,AGeJ,ApCsDE,U2B9EA,EEYY,ECCV,ACUF,A/BuDA,GwBnDQ,CGtBN,CN8BA,UY1BA,ANYE,GSGN,2CPZE;AKLA,Eb6BE,AGRM,AEJV,AGXE,AIHE,AjC0DJ,U6BvDE,EIHE,ACZF,ClCsEW,CqBhCT,IKZJ,OQjBI,CVqBM,GxBwCmB,mBAA7B;A8BrDE,AMYJ,ApC4DE,E0B9DA,AOdI,ACHA,AlC6DJ,MAkB0B,K0B9D1B,IOdI,AjC0DJ,E8BtEE,CISE,SJOD;ATuBD,AGRM,AKfR,EHWA,AIVI,AGJA,ACHA,AEmBJ,ApC0CA,AAkBE,MwBtFA,GAAE,CHwBA,CQXF,AEMA,CLKF,AQjBI,ClC+ED,CwB/EC,AMOA,A9BsDJ,GwBzDK,ASDD,CGgBJ,KfUI,GGvBI,IAAG,SAeF;AHJP,EGKQ,AEJV,AGXE,AIHE,ACHA,AEmBJ,ApC0CA,EAkBI,QqB/DA,CKCJ,CQjBI,EVqBM,ASlBN,CjC0DJ,CAkBI,E6BzEF,KRsBc,CeThB;ANXE,ENcQ,AEJV,AGXE,AIHE,ACHA,AEmBJ,ATPM,A3BqBN,W6B3BE,CHWF,C1BgBa,GkCjCT,CJZF,SM+BF,ATPM,CGLH,E9B0B0B,GwBZnB,ASlBN,gBjC8BJ;E6B1BE,ACCE,AGJA,ACHA,AEmBJ,ATPM,A3BqBN,UoCdA,CFnBI,CLMF,CIHE,CHIA,C9B0BJ,M2BrBM;AHSI,AxB2DV,E0B/DA,AGVE,AKNE,AEmBJ,ApCcA,MwB5CE,GAAE,AKiBF,AEEA,E/BuED,GwBnFG,AxBqCJ,CoCdA,CFnBI,CVAC,QEgBL,CFdQ,IAAG,SAeF,OAGG;AMZV,AGLE,AjCwDJ,EqBhCI,AGNQ,AKdV,AOaF,ApC4DE,MArBwB,K6BpDxB,AItBA,GZ0CE,AGNQ,AYDZ,ApC4DE,G8B9FA,SGKE,CHiBD,OGLE;APcL,AQhBI,Eb2BA,ASnBA,AGLE,AjCoBN,AAoCE,Q0B3CA,ELWE,Ea3CF,APEA,EGsBE,C9BeW,K2BhCX,KOEA,MPcE,CMJA,AjCoBN,KAoCG,EkC3DG;AVuBE,AOVV,EVeM,AKXF,AObI,ACHA,AlCuBN,EAoCI,IwBxEF,GAAE,KAOA,ASSE,EjCwDF,CqBhCA,AG7BC,CEkBH,AQhBI,ClCuBa,OwBvBX,IAAG,MxBuBX,GwBDS;AMbP,ETmBE,AGLM,AENR,AKJF,A/BWA,AA4DA,Q0BnEE,CLWE,ErBJO,AA4DX,GwB7DU,GMvCR,CC6BF,SDJG,C9BeH;AiCnBI,EZwBA,AKXF,AGXA,ACGE,ACIJ,A/BuEA,S0BnEE,CLWE,CY9CF,CjCsGF,G8B3EI,EDHF,OEOF,EEzBI,QAgBC;ATmBK,AxBsCV,E0B3CE,AGXA,ACGE,ACIJ,AETM,AjCgFN,MwBnGE,GAAE,CGFF,CEuBA,A7B8EF,CiChFM,CHKF,CNjBA,CEyBF,EFrBG,COiBL,AJzBI,QHUI,GGMF,CHNK,KxB8DV,IwBxCQ,MAEG;AHMR,EGLQ,AELV,AIRE,ACIJ,AETM,AjCwDJ,AAwBF,UqB5EI,CKSF,C1BmEF,EwB9DY,AxBsCV,C+B/CF,QVOI,ESXA,CGLE,QZuBA;AAAF,AQrBF,ELiBU,AOTZ,AETM,ACNA,UbSF,AaTE,CLFJ,GL0BU,AOTZ,GETM,MZeU,AQdZ,QRqBE;AKTJ,AINF,AHDA,ENiBM,AQrBF,QHKF,CLgBI,CMjBJ,KDOE,EINF,CDLE;ALqBA,ASpBF,ACPE,Eb4BE,AKVF,AGXA,ACKF,AHDA,MH5BA,GAAE,AKwBA,CRqBE,AKVF,COvCF,CCAA,EVWE,GAqCC,CMfH,AHDA,OOvBE,CDmBA,aCPE;ADrBN,ETiDM,AETF,AGXA,ACKF,AIZI,AlC+EN,S0B7DI,CGXA,CI7BF,AjCqGF,C8BnEE,GIZI,GV2BA,QSrBa;AZwBjB,EGFI,AETF,AGXA,ACKF,AGNE,ACNE,AlC+EN,QwBpDM,EHtBF,CYCA,CHMF,A9BmEF,C6BxEiB,EHWb,GQlBE,Kb6BF,MQtB6B,mBAA7B;ELqBE,AETF,AGXA,ACKF,AGNE,ACNE,AlC4BN,AAmDA,UwBpDM,CxBoDN,EAnDa,C0BVT,AQlBE,CLOF,EIDA,MjCsBmB,M8BhBrB,a9BgBF;EwBAM,AKpBF,ACKF,AIZI,AlC4BN,AAmDA,UkC/EM,ElC+EN,E6BxEI,CLoBE,AxBCN,E8BhBE;AJME,AOXF,ETqBI,AKpBF,AKPE,AlC4BN,Q0BtBE,EFqBI,CSrDJ,CC0BI,ElC4BN,C0BhBI,EAKE,SOXF,MJCA;ACKF,AHJA,ENoBE,AKVE,AOXF,UPWE,ACbJ,EMEE,GNCA,EGFF,ITsBE,WShBA;ANgBE,AKnBJ,AKNA,Eb0BE,AShBA,AHJA,MH/BF,GAAE,AG+BA,CNoBA,CQtCF,CKjBA,EVWE,GAqCC,CMTD,KDJA,ELmBI,AUzBJ;ARmBJ,AOZA,EZoBI,AGDI,AKnBJ,ACIA,AIVA,QRkBF,GIRE,AGJF,IZoBE,GGDI,AKnBJ,AKNA;APQA,EHkBI,AEPN,AGZE,ACIA,AGJF,ACNE,UAAA,APAF,CHyBM,CMfJ,CDJA,EFAA,GDYF,AOZA,mBNCI;ANqBN,EGFQ,AEPN,AGZE,ACIA,AGJF,ACNE,APOE,UNoBJ,AGFM,CEPN,COZA,ACNE,MJUA,OHHE,OEDF;ERsBF,AGFM,AEPN,AGZE,ACIA,AGJF,ACNE,SAAA,EVyBI,AMfJ,EJQW,AOZb,EJAE,GRqBF,YKT8B,mBAA9B;ACVE,ENoBF,AKTA,AGZE,ACIA,AGJF,ACNE,UPHF,IN8BA,AKTA,CCfE,CMGF,ACNE,CLMA,YCIA,QHHC;AHkBG,AGlBE,ENqBR,AKTA,AGZE,ACIA,AGJF,ACNE,MV/BF,GAAE,CH0DF,AQrBE,AFVF,EGcE,ENlCA,CE0CF,AChBE,EHWC,AUbD,QVmBI,CSbN,GTkBO,QGlBE;ENsBT,AGHQ,AENR,AIRE,AGJF,ACNE,APME,WNqBJ,AMrBI,CONF,EJUA,IJQF,OOZA,MTkBQ;AKlBN,ERsBF,ASjBE,AIVA,APME,WE1BJ,CR+CA,AMrBI,EONF,SLFA,SCYA,GDLC;ALoBG,AENR,AObE,EZsBA,AQtBI,ACKF,MN5CF,EEoDA,CFpDE,CKuCE,CIPJ,EHYE,CTiBF,AGtDE,GAqCC,QAMG,ESXL,ETmBO;AUxBN,APQF,ENoBA,AKTA,AIRE,AGLA,AjCEJ,U2BfE,CGkBE,CIjDF,ClC8CW,E2BAT,GDWF,ILSA,GarCE,IlCiByB,EiCFzB,cCNE,GlCQN;A6BDI,ERsBF,AKTA,AObE,ACNE,APQF,A3BAJ,S0BWE,EGzCA,CF8BE,EORE,ClCQN,GqBoBE,KQhCE,YAUC,OIAD;AHKA,EJSF,AGbI,AKNA,APQF,A3BAJ,U2BAI,CDWF,CGbI,CKNa,ClCQnB,G8BhBE,aIQkC,EJFhC,QAYC,UIVC;Ab6BN,AYvBI,ETkBM,AMbJ,AIVA,Ub4BJ,CYjCA,ICKI,EVuBI,AMbJ,UGRH,QAGE,OAAQ;APcX,AGXA,AFGF,ENkBE,AGLQ,ASlBJ,ACLA,QRcJ,ECJA,CEnCA,GI8BI,CTkBI,GHKR,EKVE,AQlBE,GLOF;ACIA,ETkBF,AKVE,AGXA,AFGF,WNkBA,IKVE,EI7BF,CDkBE,AFGF,cGfE,QAeE;ANaI,AShBR,ACNE,Eb4BF,AKVE,AGXA,ACGE,AHAJ,MHlDA,EGkDA,CHlDE,EHoEF,AQrBE,AIfF,CCpCA,CR8De,CFnDb,GAqCC,AMMC,QNAE,AUzBJ,EDqBA,ETYM,CEAwB,KFIvB,UUtBL,IRkBF;EFKQ,AEJR,AGXA,ACGE,AGJF,ACNE,APUJ,SAAA,GEHE,ELeQ,AEJR,AQlBE,CJUA,GGJF;AZsBF,EKTE,AGXA,AIDA,ACNE,APUJ,QEHE,AIDA,EZiBF,CMbA,EOViB,ERkBf,QLSA,Ma3B+B,oBAA7B;AVuBI,AMZN,ETiBA,AQpBA,AIDA,ACNE,APUJ,MHrDA,GAAE,ASiDA,CJCA,EFGF,EH9CE,GAqCC,AMhBH,CT0CE,Ea3BE,KVOE,IAQE,GMxBN,GN+BO,KMZL;AJQF,EFKQ,AKfR,ACGE,AGJF,ACNE,APUJ,A3BYF,Q0BdE,IOFE,CjCgBS,CwBAD,CUtBN,GJUA,EJEF,KGLA,CHUE,G1BKuB,c2BZ3B,K3BYF;E0BJM,AGVF,ACGE,AHAJ,A3BpBF,AAgCA,a0BLM,ACPJ,EGAI,A9BpBS,AAgCf,U6BfI,W7BjBJ;AwBiCU,AUpBV,ELKI,ACGE,AHAJ,A3BpBF,AAgCA,MwBpEE,GAAE,AMwDE,GIRJ,EVzCE,AxB6DJ,GwBxBK,EKSD,A7BjBe,MwBcX,IAQE,GGFR,GHYU,KxBhCZ;A0B4BI,EFKQ,AMZN,AIRJ,AlCZF,AAgCA,Q0BjBE,G1BfS,EwBgCC,AMZN,E9BYN,GkCpBE,EROE,MAQC,M1B3BL;A2BoBE,ENeE,AKPE,AGXF,AIFA,ACFF,SAAA,CLIE,AFNF,MMIE,ENKA,GNeA,UKPE;AFaR,AMnBM,ETcA,AQlBA,AIFA,ACFF,APOE,UMLA,ECFF,KJvBA,CH8BE,CNeA,aSvCA,QAyBE,YDJF;AHYA,EFYJ,AMnBM,AIRJ,APOE,QDPF,ECOE,COPF,OV2BF,AMnBM,EJJF,MAWC;AOZH,AjCeF,EwBUA,AEZM,AIPA,AHDF,M3BUsB,KwBU1B,AShDE,AN4BE,GDQE,CIPA,YGNF;EHOE,AGNF,ANKA,A3B1BJ,AAoCE,W8BTI,CTGJ,AMJE,G3B1BW,GiCqBX,OZaA,ErBED,MApCH;AwB8CA,AEPF,EIXQ,AGNF,ANKA,A3B1BJ,EAoCI,M2BVA,EHmBF,CSxBE,CHME,ENkBD,ExBTD,GApCe,kBAAnB;EwB8CE,AEPF,AOjBI,AjCrBJ,WAAW,CiCqBP,MPiBJ,OFOE,IxB7CF;A8B4BI,AHFA,EDaJ,AOjBI,ACLF,QDKE,ENXF,CD4BF,CQtBE,KJ1BA,CH6BE,UAME,IG7BF,QA+BE;ANmBJ,AxBTF,E0BEA,AIXM,AGNF,ANIE,SMJF,CZKF,AGgBA,CEJF,ACbM,GHiBD,IMfC,KTGF,ErBMH,IwBSE;AU7BD,EV8BE,AMlBE,AGNF,AjCeF,UiCfE,ECbF,ElC4BA,C8BTI,CNkBF,UU9BA;ARyBN,ACbI,EGCI,AIZF,UPRF,CGoBI,AIZF,OPWA,IAAG;AHmBH,ASvBF,EPkBF,AIZM,AIZF,APWA,UHaF,CSjDA,CHqCI,CHDF,CHaC,IEAL,AQxBI,SDMA,ETqBD,YAEG;EEJN,AOlBI,ANKA,A3BfJ,W0B4BA,E1B5Ba,KiCUT,ANKA,Y3Bf0B,mBAA9B;A8BiBI,AIbA,ERyBJ,AOlBI,ANKA,A3BfJ,WiCUI,CPkBJ,AQnCE,GlCOF,E8B3BE,MH0CE,GOfA,MJrBA,QAqCC,GIbC;ER0BN,AIZM,AGNF,ACPE,APYF,A3BfJ,QiCUI,ANKA,COZE,CRyBN,I1B5BA,kB8BgBM;ENgBA,AEHN,AIZM,AIbA,APYF,A3B9BJ,UkCkBM,CRyBN,ACbI,E3B9BS,C8B+BP,INeA,WxB9CuB,mBAA7B;E0B4CA,ACbI,A3B/BJ,AACA,Y0B2CA,C1B5Ca,EACb,E2B8BI,Y3B/ByB,mBAA7B;AwBgDI,AMfA,EJYJ,A1B5CA,AACA,UwBqCE,IAAG,AxBrCL,CADA,E8BfE,QJ2DF,IFHG,GMlDC,QAyCC,CNeC;AGhBF,EDcJ,AIZM,A9BhCN,AAsBA,U2BlBE,CDwCF,CIZM,C9BVO,CAtBb,I2BuBI,IAAG,O3BDsB,C2BQvB,kB3BRN;E0BuBA,AIZM,AIfA,AlCIN,AACA,a0BsBA,A1BvBa,CkCJP,ClCKN,W8BUM,G9BXuB,mBAA7B;E8BYM,A9BXN,AACA,cAAA,CADA,E8BWM;AJYN,AQ3BM,ElCKN,AACA,S0BqBC,GQ1CC,ElCoBF,CACA,WkCdI,iBAGE,EAKE;AJkBN,ENWI,AEDJ,A1BzBF,AAGA,a0BsBE,A1BzBW,EAGb,E8BzCE,SNgEI,GxB1BuB,G8BezB,gB9BfJ;EwB2BM,AMXF,A9BfJ,W8BeI,I9BfJ,IwB0BM;AEER,A1BzBE,E8BaI,A9BfJ,MAE0B,QAF1B,W8BeI;A9BbJ,E0B0BA,AIZI,A9BfJ,AAEE,MADwB,M8BctB,AHpCF,G3BqBF,G0B2BA,EC7BI,IAAG,QAOD,E3BHH;E0B0BH,AQ/BQ,AlCxBR,AA6BE,EACE,S0ByBJ,CFhBE,CxBvCW,CkCwBL,EVeH,AxBTD,aA9ByB,EwB0C1B,YAMG,KxBhDN,CA6BG;E0B2BH,A1BvDA,EA6BI,S0B0BJ,I1BvDA,CA6BI;AAFJ,EA1BA,MA0B0B,QA1B1B;AA+BA,E0BwBA,A1B5BE,U2BvBA,IOAA,IRmDF,AChCI,IAAG,MOZH,EPmBE,E3BCL,akCjBK,EAKE,ElCQL;AAIH,E0ByBA,A1BxBE,EAJE,QwBSF,AEmBF,IFnBK,AxBLH,EAJE,awBYD,YAMG,MxBfL;E0B0BD,A1BzBE,cAAA,W0ByBF;ACvBE,EDwBF,UCtDE,MDsDF,ECxBI,IAAG;AHiBH,AxBpBJ,E2BII,UHEF,EUjCA,EViCG,AGFD,YOxBA,GV6BD,YAWG,EUrCA,EAKE,ElCYP;A0B8BH,E1B/DE,AAkCE,aAlCW,CAkCX,eAlC2B,mBAA7B;A2ByCA,EDuBA,A1B/DA,U2BwCE,K3BxCF,G0B+DA;AQpCE,ERqCF,ACvBE,A3BxCF,YkCIE,ElCJF,I2BwCE,GDuBF,KQrCI;EV2BE,AEWN,AQrCI,APcF,UAAA,CDuBF,OQrCI,QV0BE;EACA,AEWN,AQrCI,APcF,UOdE,ERqCJ,CCvBE,MHYI;EACA,AEWN,AQrCI,APcF,SHYI,GU1BF,APcF,aDuBF;EACA,AQrCI,APcF,WDuBF,CCvBE,IOdE;AV2BA,EEWJ,AQrCI,APcF,UHRA,CE+BF,ACvBE,COdE,EVMC,eAGF,YAiBG;EACA,AEWN,AQrCI,APcF,YDuBF,ACvBE,IHYI,0BU1BF;EV2BE,AEWN,AQrCI,gBRqCJ,EQrCI,cV0BE;AGZJ,EObE,UPKF,aAQE,6BObA;AV6BF,AEQF,EQpCI,APaA,UHXF,CGWE,EDuBF,CFlCG,EUFD,aV4BD;EACC,AEQF,AQpCE,UAAA,MV4BA,EEQF;ACpBF,EDqBE,UCrBA,IDqBA;AFRE,AU5BA,ERqCF,A1BaF,UwBlDE,AEqCA,EQtEA,ClCmFF,CwBlDK,YUXD,GVqCD,WU1BG,EV4BA;EACA,AESJ,AQrCI,AlCkDN,UwBtBM,EESJ,MQrCI,AlCkDN;EwBrBM,AESJ,AQrCI,AlC2DN,WkC3DM,CV4BA,CESS,A1BsBf,iB0BtBgC,mBAA9B;EFRI,AESJ,AQrCI,AlC2DN,WAAA,CkC3DM,GRqCJ,IFTI;EEUJ,AQrCI,AlC2DN,YkC3DM,AlC2DN,K0BtBE;AFTI,EEUJ,AQrCI,AlC2DN,UwBhEE,CxBgEF,GwBhEK,IUKC,CRqCJ,UFhBC,aAEG,WAIE;EACA,AEUN,AQrCI,AlC2DN,UwBhCQ,EEUN,C1BsBF,YkC3DM;ERsCJ,AQrCI,AlC2DN,a0BtBE,AQrCI,8BlC2DN;AwB/BM,EEUJ,AQrCI,AlC2DN,UwBnEE,AE6CA,IF7CG,eA0BF,aAEG,IUpBA,ClC2DN,MwBhCQ;EACA,AEUN,AQrCI,APQJ,WHmBM,AEUN,AQrCI,cPQJ;ED8BA,AQrCI,UAAA,ERqCJ;AFRE,AxBcF,E0BLA,UFhDA,CEgDA,GFhDG,GxBqDuB,YwB3BzB,aAaG;AU5BA,ElC5CN,AAyGF,YkCzGI,APgDA,C3BhDW,UAAU,GkCsBnB,cAWE,ElCjCN,UkC4CO;ARsCL,EQrCM,AlC5CR,EAsFI,W0BpBF,A1BoBE,EAtFJ,M0BiFG,IQrCK;ERsCJ,AQrCI,AlC5CR,cAAA,iB0BiFI,eQrCI;EV4BF,UAAA;AEWJ,AQpCE,AlCwCF,EwBdI,YU3EJ,CRmEA,IFQI,AxBcsB,I0BJzB,KQ/DC,cA2BE;ERqCF,AQpCE,AlCuDR,WkCvDQ,CPFJ,EDsCE;AFVE,EUzBA,ElCuCF,QwBzDF,EUkBI,EVlBD,AxByDD,ewB/BD,aAaG,EAIE;AEYN,EQpCI,AlCnBN,EA0DI,UAAA,C0BxBF,A1BlCW,CkCmBP,ORoCH,S1BvD2B,mBAA9B;E0BwDI,AQpCE,AlCnBN,YkCmBM,GlCnBN,I0BuDI;EACA,AQpCE,AlCnBN,UkCmBM,CRoCS,G1BvDf,Y0BuDI;ACvCF,EOII,AlCnBN,U2BYE,COOI,IlCnBN,K2BeI;EACA,kBAAA;AOIE,AlCnBN,E2BgBI,M3BhBsB,MkCrCxB,WPqDE,GO/BA,cA2BE,SAOC;EACC,APHJ,A3BhBF,W2BgBE,CHrBF,GUwBM,CVxBH,eA0BF,aAaG,EAIE,ExBtCL;E2BiBC,E3BhBA,U2BgBA,I3BhBA;AkCoBE,EPHF,QAAA,IOxDF,cAsBE,cA2BE,SAUC;EACC,APHJ,UAAA,KOGI;AlClBR,EkCmBQ,APHJ,UHzBF,IAAG,GU4BG,APHJ,YHCD,aAaG,EAIE,ExBlCP;EkCoBO,APHJ,A3BhBF,akCmBmB,APHjB,C3BhBF,ekCmBmC,mBAA7B;ElC7BR,aAAa,iBAAiB,mBAA9B;AwB8CM,AUbJ,ElChCF,UwBDE,EUjCA,EViCG,CxBCL,WkCgCI,GVPD,aAaG,EAOE;EUZJ,AlC7DJ,AA6BA,aA7Ba,CA6Bb,IkCgCI,YlC7D0B,mBAA9B;EkC8DI,AlC7DJ,AA6BA,eA7BA,AA6BA,SkCgCI;EACA,AlC7DJ,UkC6DI,IlC7DJ;AA6BA,EwB4CQ,AUXJ,MlCjCsB,QwB4ClB,CUXJ;EACA,AlCjCF,Y2BUA,EOuBE,QPpBA,U3BbD;AwB6CG,EUXF,ElCjCA,QwBNF,IAAG,ExBMD,awBoBD,GUaC,UVAE,EAWC;ExBnFP,aAAa,UAAU,mBAAvB;EACA,eAAA;AAyCA,EAxCA,U2B8CE,I3B9CF,M2BiDI,U3BTH;EwB2CO,AxB1CN,cAAA,IwB0CM;EACA,iBAAA;AGxBN,EHyBM,UAAA,AGvCN,UAcE;EACA,kBAAA;AH2BI,EG1BJ,UH/BF,CG+BE,GH/BC,eA0BF,aAaG,EAiBC,WACG;EGzBN,A3BvEJ,Y2BuEI,C3BvES,gBAAgB,mBAA7B;E2BwEI,A3BvEJ,eAAA,Y2BuEI;EH0BM,AGzBN,aAAA,CHyBM;;AAGJ,AGxBN,YHtCE,AGsCA,IHtCG,eA0BF,aAaG,EAuBC;ExBrGP,AAyFA,aAzFa,AAyFb,gBAzF6B,mBAA7B;EACA,AAyFA,eAzFA,GAyFA;EwBaQ,AxBHR,aAAA,CwBGQ;ExBFR,WAAA;AwBMI,ExBLJ,UwB/DE,ExB+DF,EwB/DK,eA0BF,aA0CG;EACA,AxBLN,UwBKM,CxBLN;EwBMM,AxBLN,YwBKM,CxBLN;EwBMM,AxBLN,mBwBKM,wBxBLN;EwBMM,AxBLN,gCwBKM,exBLN;EwBMM,AGjCJ,gBAAA,IHiCI;EGhCJ,yBAAA;AHkCI,YA3EJ,IAAG,eA0BF,aA0CG,UAOE,GAAE;AxBtBR,EwBuBM,YAAA,KxBvBoB;EAmB9B,Y2BlCI;AHuCM,IxBvBJ,QwBtDF,GxBsDE,CwBtDC,eA0BF,aA0CG,UAOE,GAAE,MAEA;ExBpHV,aAAa,gBAAgB,m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","file":"app-bundle.js","sourcesContent":["export class App {\n\n  configureRouter(config, router) {\n    config.title = 'Riskmap.in';\n    config.options.pushState = true;\n    config.options.root = '/riskmap.in/';\n    config.map([\n      {route: ['', 'map', 'map/:city', 'map/:city/'],   name: 'map',  moduleId: 'routes/landing/landing'},\n      {route: 'map/:city/:report',                                    moduleId: 'routes/landing/landing'},\n      {route: 'cards/:disaster/:id',                                  moduleId: 'routes/cards/cards'}\n    ]);\n    config.mapUnknownRoutes({moduleId: 'routes/landing/landing'});\n    this.router = router;\n  }\n}\n","export default {\n  debug: true,\n  testing: true,\n  tile_layer: 'https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}.{ext}',\n  data_server: 'http://localhost:8001/',\n  app: 'http://localhost:9000',\n  default_language: 'en',\n  supported_languages: ['en', 'id'],\n  enable_test_cardid: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  longStackTraces: environment.debug,\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n  .standardConfiguration();\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(a => a.setRoot());\n}\n","// PetaBencana.id configuration file, for CogniCity data\n// https://github.com/urbanriskmap/urbanriskmap-meta/wiki/Bounding-Boxes-for-Target-Cities\n\n// Import environment variables from Aurelia build\nimport env from '../environment';\nimport {noView} from 'aurelia-framework';\n\n//start-non-standard\n@noView\n//end-non-standard\nexport class Config {\n  constructor() {\n    this.cards = {\n      \"data_server\" : env.data_server,\n      \"tile_layer\": env.tile_layer,\n      \"enable_test_cardid\": env.enable_test_cardid\n    };\n\n    this.map = {\n      \"instance_regions\":\n      {\n        \"chennai\": {\n          \"region\": \"chn\",\n          \"bounds\": { //arbit bounding box drawn in QGIS. So the edges aren't orthogonal\n            \"sw\":[ 12.6884, 79.9248],\n            \"ne\":[ 13.3766, 80.5413]\n          }\n        }\n      },\n      \"default_region\": {\n        \"region\": \"chn\",\n        \"bounds\": {\n          \"sw\":[ 12.6884, 79.9248],\n          \"ne\":[ 13.3766, 80.5413]\n        }\n      },\n      \"data_server\" : env.data_server,\n      \"tile_layer\": env.tile_layer,\n      \"app\": env.app\n    };\n  }\n}\n","// Import environment variables\nimport env from '../environment';\nimport {noView} from 'aurelia-framework';\n\n//start-non-standard\n@noView\n//end-non-standard\nexport class ReportCard {\n  static metadata() {\n    return Metadata.singleton(true);\n  } //true indicates to register in the root container\n\n  // Support language changing\n  // TODO - error handling for\n  changeLanguage(lang) {\n    $.getJSON(\"../../../locales/\" + lang + \"/translation.json\", (data) => {\n      $.each(data, (key, val) => {\n        this.locale[key] = val;\n      });\n    });\n  }\n\n  constructor() {\n    var self = this;\n    //initial language, TODO: set using detected browser language\n    self.selLanguage = env.default_language;\n    self.languages = env.supported_languages;\n    self.location = {markerLocation: null, gpsLocation: null, accuracy: null, supported: false};\n    self.depth = null;\n    self.photo = {file: null, rotation: 0};\n    self.description = {value: null};\n    self.network = null;\n    self.errors = {code: null, text: null};\n    self.locale = {};\n    self.changeLanguage(this.selLanguage);\n  }\n}\n","import {bindable, customElement} from 'aurelia-framework';\n\n//start-non-standard\n@customElement('card-notification')\n//end-non-standard\nexport class CardNotification {\n  //@bindable attributes do not work with camelCase...\n  //start-non-standard\n  @bindable locale;\n  @bindable type;\n  @bindable header;\n  @bindable message;\n  @bindable bespoke;\n  @bindable closeNotification;\n  //end-non-standard\n\n  callClose() {\n    this.closeNotification();\n  }\n}\n","import {bindable, customElement} from 'aurelia-framework';\n\n//start-non-standard\n@customElement('component-template')\n//end-non-standard\nexport class ComponentTemplate {\n  //@bindable attributes should have no case, eg. reportcard\n  //@bindable functions should be in camelCase, then in html template usage, use camel-case.call\n  //start-non-standard\n  @bindable locale;\n  //end-non-standard\n\n  get x() {\n    return this.y;\n  }\n\n  attached() {\n    var self = this;\n\n  }\n}\n","import {containerless} from 'aurelia-framework';\n\n//start-non-standard\n@containerless()\n//end-non-standard\nexport class DepthBg {\n  \n}\n","import {inject, bindable, customElement} from 'aurelia-framework';\nimport * as L from 'leaflet';\nimport $ from 'jquery';\nimport {MapLayers} from './map-layers';\nimport {MapUtility} from './map-utility';\n\n//start-non-standard\n@customElement('disaster-map')\n@inject(MapLayers, MapUtility)\n//end-non-standard\nexport class DisasterMap {\n  //start-non-standard\n  @bindable querycity;\n  @bindable reportid;\n  @bindable resetTab;\n  //end-non-standard\n\n  constructor(MapLayers, MapUtility) {\n    this.layers = MapLayers;\n    this.utility = MapUtility;\n    this.cities = [];\n    for (let city in this.utility.config.instance_regions) {\n      this.cities.push(city);\n    }\n    this.selected_city = null;\n  }\n\n  togglePane(ref, action, clear_selection) {\n    var self = this;\n    if (action === 'hide') {\n      $(ref).fadeOut(200);\n      if (ref === '#infoPane') {\n        if (clear_selection) {\n          if (self.layers.selected_report) {\n            self.reportid = null;\n            history.pushState({city: self.selected_city, report_id: null}, \"city\", \"map/\" + self.selected_city);\n            self.layers.selected_report.target.setIcon(self.layers.mapIcons.report_normal);\n            self.layers.selected_report = null;\n          }\n          if (self.layers.selected_extent) {\n            self.layers.selected_extent.target.setStyle(self.layers.mapPolygons.normal);\n            self.layers.selected_extent = null;\n          }\n          if (self.layers.selected_gauge) {\n            self.layers.selected_gauge.target.setIcon(self.layers.mapIcons.gauge_normal(self.layers.gaugeIconUrl(self.layers.selected_gauge.target.feature.properties.observations[self.layers.selected_gauge.target.feature.properties.observations.length-1].f3)));\n            self.layers.selected_gauge = null;\n          }\n          self.layers.popupContent = null;\n        }\n      } else if (ref === '#sidePane') {\n        $('.menuBtn').toggleClass(\"active\");\n      }\n    } else if (action === 'show') {\n      if (ref === '#infoPane') {\n        if ($('#closeSidePane').hasClass(\"active\")) {\n          $('.menuBtn').toggleClass(\"active\");\n          $('#sidePane').fadeOut(200);\n        }\n        if (clear_selection && $('#modalChart').get(0)) {\n          $('#chart-pane').empty();\n        }\n      } else if (ref === '#sidePane') {\n        self.resetTab('report');\n        $('.menuBtn').toggleClass(\"active\");\n        self.togglePane('#infoPane', 'hide', true);\n      }\n      $(ref).fadeIn(200);\n    }\n  }\n\n  // Load all reports for a given city, or zoom to single queried report id\n  viewReports(city_name, push_state) {\n    var self = this;\n    self.utility.changeCity(city_name, self.reportid, self.map, self.layers, self.togglePane)\n    .then(() => {\n      if (self.reportid && self.layers.activeReports.hasOwnProperty(self.reportid)) {\n        //Case 1: Active report id in current city\n        if (self.layers.activeReports[self.reportid].feature.properties.tags.instance_region_code === self.utility.parseCityObj(city_name).region) {\n          self.layers.activeReports[self.reportid].fire('click');\n          self.selected_city = city_name;\n          if (push_state) {\n            history.pushState({city: city_name, report_id: self.reportid}, 'city', \"map/\" + city_name + \"/\" + self.reportid);\n          }\n        }\n      } else if (self.reportid && !self.layers.activeReports.hasOwnProperty(self.reportid)) {\n        //Case 2: No active report, check availability on server\n        self.layers.addSingleReport(self.reportid)\n        .then(report => {\n          var reportRegion = self.layers.activeReports[self.reportid].feature.properties.tags.instance_region_code;\n          if (reportRegion === self.utility.parseCityObj(city_name).region) {\n            //Case 2A: in current city?\n            report.fire('click');\n            self.selected_city = city_name;\n            if (push_state) {\n              history.pushState({city: city_name, report_id: self.reportid}, 'city', \"map/\" + city_name + \"/\" + self.reportid);\n            }\n          } else {\n            //Case 2B: fly to city with report id\n            var queryReportCity = self.utility.parseCityName(reportRegion, self.cities);\n            self.utility.changeCity(queryReportCity, self.reportid, self.map, self.layers, self.togglePane)\n            .then(() => {\n              self.layers.addSingleReport(self.reportid)\n              .then(queriedReport => {\n                queriedReport.fire('click');\n                self.selected_city = queryReportCity;\n                if (push_state) {\n                  history.pushState({city: queryReportCity, report_id: self.reportid}, 'city', \"map/\" + queryReportCity + \"/\" + self.reportid);\n                }\n              });\n            });\n          }\n        }).catch(() => {\n          self.utility.noReportNotification(city_name, self.reportid);\n          self.selected_city = city_name;\n          self.reportid = null;\n          if (push_state) {\n            history.pushState({city: city_name, report_id: null}, 'city', \"map/\" + city_name);\n          }\n        });\n      } else if (!self.reportid) {\n        if (self.utility.parseCityObj(city_name).region === 'java') {\n          self.utility.noReportNotification(null, null);\n          self.selected_city = null;\n          if (push_state) {\n            history.pushState({city: null, report_id: null}, 'city', \"map\");\n          }\n        } else {\n          self.selected_city = city_name;\n          if (push_state) {\n            history.pushState({city: city_name, report_id: null}, 'city', \"map/\" + city_name);\n          }\n        }\n      }\n    }).catch(() => {\n      //Case 3: .addReports not resolved for specified city\n      self.utility.noReportNotification(city_name, null);\n      self.reportid = null;\n    });\n  }\n\n  attached() {\n    var self = this;\n\n    // Initialize leaflet map\n    self.map = L.map('mapContainer', {\n      attributionControl: false, //include in side pane\n      center: [13.017163, 80.185031],\n      zoom: 8,\n      minZoom: 8\n    });\n\n    // Add base tile layers\n    L.tileLayer(self.utility.config.tile_layer, {\n      detectRetina: true,\n      subdomains: 'abc',\n      ext: 'png'\n    }).addTo(self.map);\n\n    // Add scale control\n    L.control.scale({\n      position: 'bottomleft',\n      metric: true,\n      imperial: false\n    }).addTo(self.map);\n\n    // Add custom leaflet control for geolocation\n    L.Control.GeoLocate = L.Control.extend({\n      onAdd: () => {\n        return self.utility.geolocateContainer(self.map, self.layers, self.togglePane);\n      }\n    });\n    L.control.geoLocate = (opts) => {\n      return new L.Control.GeoLocate(opts);\n    };\n    L.control.geoLocate({\n      position: 'topleft'\n    }).addTo(self.map);\n\n    // Find user location & store in background\n    self.map.locate({\n      setView: false\n    });\n    self.map.on('locationfound', (e) => {\n      self.utility.onLocationFound(e);\n    });\n    self.map.on('locationerror', () => {\n      self.utility.clientLocation = null;\n    });\n\n    // Check against queried city param\n    if (self.querycity) {\n      self.viewReports(self.querycity, true);\n    }\n\n    //If user navigates through history, load city as per stateObj, but do not register new pushState\n    window.onpopstate = (e) => {\n      if (e.state.city !== null) {\n        this.viewReports(e.state.city, false);\n      } else {\n        this.viewReports(null, false);\n      }\n    };\n  }\n}\n","//Utility functions for manipulating leaflet map layers\n\nimport {inject, noView} from 'aurelia-framework';\nimport * as L from 'leaflet';\nimport Chart from 'chart';\nimport {Config} from 'resources/config';\nimport {HttpClient} from 'aurelia-http-client';\nimport * as topojson from 'topojson-client';\n\n//start-non-standard\n@noView\n@inject(Config)\n//end-non-standard\nexport class MapLayers {\n  constructor(Config) {\n    this.activeReports = {}; // List of available reports (filtered by city, time: last 1 hour)\n    this.config = Config.map;\n    this.mapIcons = {\n      report_normal: L.icon({\n        iconUrl: '/assets/icons/floodIcon.svg',\n        iconSize: [30, 30],\n        iconAnchor: [15, 15]\n      }),\n      report_selected: L.icon({\n        iconUrl: '/assets/icons/floodSelectedIcon.svg',\n        iconSize: [30, 30],\n        iconAnchor: [15, 15]\n      }),\n      gauge_normal: (url) => L.icon({\n        iconUrl: url,\n        iconSize: [30, 30],\n        iconAnchor: [15, 15]\n      }),\n      gauge_selected: L.icon({\n        iconUrl: '/assets/icons/floodgauge_selected.svg',\n        iconSize: [30, 30],\n        iconAnchor: [15, 15]\n      })\n    };\n    this.mapPolygons = {\n      normal: {\n        weight: 0,\n        opacity: 0\n      },\n      selected: {\n        weight: 1,\n        opacity: 1\n      }\n    };\n  }\n\n  // Get icon for flood gauge\n  gaugeIconUrl(level) {\n    switch(level) {\n      case 1:\n      return '/assets/icons/floodgauge_1.svg';\n      case 2:\n      return '/assets/icons/floodgauge_2.svg';\n      case 3:\n      return '/assets/icons/floodgauge_3.svg';\n      default:\n      return '/assets/icons/floodgauge_4.svg';\n    }\n  }\n\n  // Format timestamps to local time\n  formatTime(timestamp_ISO8601) {\n    let timeZoneDifference = -5;\n    let utc = new Date(timestamp_ISO8601).getTime();\n    let localTime = utc + (3600 * timeZoneDifference) * 1000; // Add 7 hours for UTC-5\n    let timestring = new Date(localTime).toISOString();\n    timestring = timestring.split('T'); // Split time and ate\n    let t1 = timestring[1].slice(0,5); // Extract HH:MM\n    let d1 = timestring[0].split('-'); // Extract DD-MM-YY\n    let d2 = d1[2]+'-'+d1[1]+'-'+d1[0];\n    return (t1 + ' ' + d2);\n  }\n\n  // Get topojson data from server, return geojson\n  getData(end_point) {\n    var self = this,\n        url = self.config.data_server + end_point;\n    let client = new HttpClient();\n    return new Promise((resolve, reject) => {\n      client.get(url)\n      .then(data => {\n        var topology = JSON.parse(data.response);\n        if (topology.statusCode === 200) {\n          var result = topology.result;\n          if (result && result.objects) {\n            resolve(topojson.feature(result, result.objects.output));\n          } else {\n            resolve(null);\n          }\n        } else {\n          resolve(null);\n        }\n      })\n      .catch(err => reject(err));\n    });\n  }\n\n  reportInteraction(feature, layer, city_name, map, togglePane) {\n    var self = this;\n    self.activeReports[feature.properties.pkey] = layer;\n    layer.on({\n      click: (e) => {\n        map.flyTo(layer._latlng, 15);\n        if (self.selected_extent) {\n          self.selected_extent.target.setStyle(self.mapPolygons.normal);\n          self.selected_extent = null;\n        }\n        if (self.selected_gauge) {\n          self.selected_gauge.target.setIcon(self.mapIcons.gauge_normal(self.gaugeIconUrl(self.selected_gauge.target.feature.properties.observations[self.selected_gauge.target.feature.properties.observations.length-1].f3)));\n          self.selected_gauge = null;\n        }\n        if (!self.selected_report) {\n          // Case 1 : no previous selection, click on report icon\n          e.target.setIcon(self.mapIcons.report_selected);\n          self.popupContent = {};\n          for (let prop in feature.properties) {\n            self.popupContent[prop] = feature.properties[prop];\n          }\n          self.popupContent.timestamp = self.formatTime(feature.properties.created_at);\n          history.pushState({city: city_name, report_id: feature.properties.pkey}, \"city\", \"map/\" + city_name + \"/\" + feature.properties.pkey);\n          togglePane('#infoPane', 'show', true);\n          self.selected_report = e;\n        } else if (e.target === self.selected_report.target) {\n          // Case 2 : clicked report icon same as selected report\n          e.target.setIcon(self.mapIcons.report_normal);\n          history.pushState({city: city_name, report_id: null}, \"city\", \"map/\" + city_name);\n          togglePane('#infoPane', 'hide', false);\n          self.selected_report = null;\n        } else if (e.target !== self.selected_report.target) {\n          // Case 3 : clicked new report icon, while previous selection needs to be reset\n          self.selected_report.target.setIcon(self.mapIcons.report_normal);\n          e.target.setIcon(self.mapIcons.report_selected);\n          self.popupContent = {};\n          for (let prop in feature.properties) {\n            self.popupContent[prop] = feature.properties[prop];\n          }\n          self.popupContent.timestamp = self.formatTime(feature.properties.created_at);\n          history.pushState({city: city_name, report_id: feature.properties.pkey}, \"city\", \"map/\" + city_name + \"/\" + feature.properties.pkey);\n          togglePane('#infoPane', 'show', true);\n          self.selected_report = e;\n        }\n      }\n    });\n  }\n\n  floodExtentInteraction(feature, layer, city_name, map, togglePane) {\n    var self = this;\n    layer.on({\n      click: (e) => {\n        map.panTo(layer.getCenter());\n        // Check for selected report, restore icon to normal, clear variable, update browser URL\n        if (self.selected_report) {\n          self.selected_report.target.setIcon(self.mapIcons.report_normal);\n          self.selected_report = null;\n          history.pushState({city: city_name, report_id: null}, \"city\", \"map/\" + city_name);\n        }\n        if (self.selected_gauge) {\n          self.selected_gauge.target.setIcon(self.mapIcons.gauge_normal(self.gaugeIconUrl(self.selected_gauge.target.feature.properties.observations[self.selected_gauge.target.feature.properties.observations.length-1].f3)));\n          self.selected_gauge = null;\n        }\n        if (!self.selected_extent) {\n          // Case 1 : no previous selection, click on flood extent polygon\n          // Selection feedback, add stroke\n          e.target.setStyle(self.mapPolygons.selected);\n          // Reset and fill popupContent\n          self.popupContent = {};\n          for (let prop in feature.properties) {\n            self.popupContent[prop] = feature.properties[prop];\n          }\n          // open infoPane, set 'clear_selection' var to true, to empty flood gauge chart\n          togglePane('#infoPane', 'show', true);\n          // set local variable to target\n          self.selected_extent = e;\n        } else if (e.target === self.selected_extent.target) {\n          // Case 2 : clicked polygon same as selected flood extent\n          e.target.setStyle(self.mapPolygons.normal);\n          self.popupContent = {};\n          togglePane('#infoPane', 'hide', false);\n          self.selected_extent = null;\n        } else if (e.target !== self.selected_extent.target) {\n          // Case 3 : clicked new polygon, while previous selection needs to be reset\n          self.selected_extent.target.setStyle(self.mapPolygons.normal);\n          e.target.setStyle(self.mapPolygons.selected);\n          self.popupContent = {};\n          for (let prop in feature.properties) {\n            self.popupContent[prop] = feature.properties[prop];\n          }\n          togglePane('#infoPane', 'show', true);\n          self.selected_extent = e;\n        }\n      }\n    });\n  }\n\n  drawGaugeChart(feature) {\n    $('#chart-pane').html('<canvas id=\"modalChart\"></canvas>');\n    var ctx = $('#modalChart').get(0).getContext('2d');\n    var data = {\n      labels : [],\n      datasets : [{\n        label: \"Tinggi Muka Air / Water Depth (cm)\",\n        backgroundColor: \"rgba(151,187,205,0.2)\",\n        borderColor: \"rgba(151,187,205,1)\",\n        pointBackgroundColor: \"rgba(151,187,205,1)\",\n        pointBorderColor: \"#fff\",\n        pointRadius: 4,\n        data: []\n      }]\n    };\n    for (var i = 0; i < feature.properties.observations.length; i+=1) {\n      data.labels.push(feature.properties.observations[i].f1);\n      data.datasets[0].data.push(feature.properties.observations[i].f2);\n    }\n    var gaugeChart = new Chart(ctx, {\n      type: 'line',\n      data: data,\n      options: {\n        bezierCurve: true,\n        legend: {display: true},\n        scaleLabel: \"<%= ' ' + value%>\",\n        scales: {\n          xAxes: [{\n            type: 'time',\n            time: {\n              unit: 'hour',\n              unitStepSize: 1,\n              displayFormats: {\n                'millisecond': 'HH:mm',\n                'second': 'HH:mm',\n                'minute': 'HH:mm',\n                'hour': 'HH:mm',\n                'day': 'HH:mm',\n                'week': 'HH:mm',\n                'month': 'HH:mm',\n                'quarter': 'HH:mm',\n                'year': 'HH:mm'\n              }\n            }\n          }]\n        },\n        tooltips: {\n          enabled: false\n        }\n      }\n    });\n  }\n\n  gaugeInteraction(feature, layer, city_name, map, togglePane) {\n    var self = this;\n    layer.on({\n      click: (e) => {\n        console.log(e.target);\n        map.panTo(layer._latlng);\n        $('#chart-pane').empty();\n        if (self.selected_report) {\n          self.selected_report.target.setIcon(self.mapIcons.report_normal);\n          self.selected_report = null;\n          history.pushState({city: city_name, report_id: null}, \"city\", \"map/\" + city_name);\n        }\n        if (self.selected_extent) {\n          self.selected_extent.target.setStyle(self.mapPolygons.normal);\n          self.selected_extent = null;\n        }\n        if (!self.selected_gauge) {\n          e.target.setIcon(self.mapIcons.gauge_selected);\n          self.popupContent = {};\n          self.popupContent.gauge_name = feature.properties.gaugenameid;\n          self.drawGaugeChart(feature);\n          togglePane('#infoPane', 'show', false);\n          self.selected_gauge = e;\n        } else if (e.target === self.selected_gauge.target) {\n          e.target.setIcon(self.mapIcons.gauge_normal(self.gaugeIconUrl(e.target.feature.properties.observations[e.target.feature.properties.observations.length-1].f3)));\n          togglePane('#infoPane', 'hide', false);\n          self.selected_gauge = null;\n        } else if (e.target !== self.selected_gauge.target) {\n          self.selected_gauge.target.setIcon(self.mapIcons.gauge_normal(self.gaugeIconUrl(self.selected_gauge.target.feature.properties.observations[self.selected_gauge.target.feature.properties.observations.length-1].f3)));\n          e.target.setIcon(self.mapIcons.gauge_selected);\n          self.popupContent = {};\n          self.popupContent.gauge_name = feature.properties.gaugenameid;\n          self.drawGaugeChart(feature);\n          togglePane('#infoPane', 'show', false);\n          self.selected_gauge = e;\n        }\n      }\n    });\n  }\n\n  appendData(end_point, localObj, map) {\n    var self = this;\n    return new Promise((resolve, reject) => {\n      self.getData(end_point)\n      .then(data => {\n        if (!data) {\n          console.log('Could not load map layer');\n          resolve(data);\n        } else {\n          localObj.addData(data);\n          localObj.addTo(map);\n          resolve(data);\n        }\n      }).catch(() => reject(null));\n    });\n  }\n\n  addSingleReport(report_id) {\n    var self = this;\n    return new Promise((resolve, reject) => {\n      self.getData('reports/' + report_id)\n      .then(data => {\n        self.reports.addData(data);\n        resolve(self.activeReports[data.features[0].properties.pkey]);\n      }).catch(() => reject(null));\n    });\n  }\n\n  addReports(city_name, city_region, map, togglePane) {\n    var self = this;\n    map.createPane('reports');\n    map.getPane('reports').style.zIndex = 700;\n    // clear previous reports\n    if (self.reports) {\n      map.removeLayer(self.reports);\n      self.reports = null;\n    }\n    // create new layer object\n    self.reports = L.geoJSON(null, {\n      onEachFeature: (feature, layer) => {\n        self.reportInteraction(feature, layer, city_name, map, togglePane);\n      },\n      pointToLayer: (feature, latlng) => {\n        return L.marker(latlng, {\n          icon: self.mapIcons.report_normal,\n          pane: 'reports'\n        });\n      }\n    });\n    // add layer to map\n    return self.appendData('reports/?city=' + city_region +'&timeperiod=604800', self.reports, map);\n  }\n\n  addFloodExtents(city_name, city_region, map, togglePane) {\n    var self = this;\n    self.flood_extents = L.geoJSON(null, {\n      style: (feature, layer) => {\n        switch (feature.properties.state) {\n          case 4: return {cursor:\"pointer\", fillColor:\"#CC2A41\", weight:0, color:\"#000000\", opacity:0, fillOpacity: 0.7};\n          case 3: return {cursor:\"pointer\", fillColor:\"#FF8300\", weight:0, color:\"#000000\", opacity:0, fillOpacity: 0.7};\n          case 2: return {cursor:\"pointer\", fillColor:\"#FFFF00\", weight:0, color:\"#000000\", opacity:0, fillOpacity: 0.7};\n          case 1: return {cursor:\"pointer\", fillColor:\"#A0A9F7\", weight:0, color:\"#000000\", opacity:0, fillOpacity: 0.7};\n          default: return {weight:0, opacity: 0, fillOpacity:0};\n        }\n      },\n      onEachFeature: (feature, layer) => {\n        self.floodExtentInteraction(feature, layer, city_name, map, togglePane);\n      }\n    });\n    return self.appendData('floods?city=' + city_region + '&minimum_state=1', self.flood_extents, map);\n  }\n\n  removeFloodExtents(map) {\n    var self = this;\n    if (self.flood_extents){\n      map.removeLayer(self.flood_extents);\n      self.flood_extents = null;\n    }\n  }\n\n  addFloodGauges(city_name, city_region, map, togglePane) {\n    var self = this;\n    map.createPane('gauges');\n    map.getPane('gauges').style.zIndex = 650;\n    if (city_region === 'jbd') {\n      // Create flood gauge layer and add to the map\n      self.gaugeLayer = L.geoJSON(null, {\n        pointToLayer: (feature, latlng) => {\n          return L.marker(latlng, {\n            icon: self.mapIcons.gauge_normal(self.gaugeIconUrl(feature.properties.observations[feature.properties.observations.length-1].f3)),\n            pane: 'gauges'\n          });\n        },\n        onEachFeature: (feature, layer) => {\n          self.gaugeInteraction(feature, layer, city_name, map, togglePane);\n        }\n      });\n    }\n    return self.appendData('floodgauges?city=' + city_region, self.gaugeLayer, map);\n  }\n\n  removeFloodGauges(map) {\n    var self = this;\n    if (self.gaugeLayer) {\n      map.removeLayer(self.gaugeLayer);\n      self.gaugeLayer = null;\n    }\n  }\n}\n","//Utility functions for manipulating DOM elements & disaster-map view-model\n\nimport {inject, noView} from 'aurelia-framework';\nimport * as L from 'leaflet';\nimport {Config} from 'resources/config';\nimport {notify} from 'notifyjs-browser'; //Jquery plugin\n\n$.notify.addStyle('mapInfo', {\n  html: \"<div id=notification><span data-notify-text/></div>\",\n  classes: {\n    info: {\n      \"background-color\": \"rgba(0, 0, 0, 0.5)\",\n    },\n    error: {\n      \"background-color\": \"rgba(255, 0, 0, 0.4)\",\n    }\n  }\n});\n\n//start-non-standard\n@noView\n@inject(Config)\n//end-non-standard\nexport class MapUtility {\n  constructor(Config) {\n    this.config = Config.map;\n  }\n\n  parseCityName(region_code, cities) {\n    var self = this;\n    for (var i = 0; i < cities.length; i+=1) {\n      if (self.parseCityObj(cities[i]).region === region_code) {\n        return cities[i];\n      } else {\n        return null;\n      }\n    }\n  }\n\n  // parse a city name (string) to return its instance region properties (object)\n  parseCityObj(city_name) {\n    var self = this;\n    if (!city_name) {\n      // null, undefined\n      $('#screen').show();\n      return self.config.default_region;\n    } else if (city_name in self.config.instance_regions) {\n      // supported city\n      $('#screen').hide();\n      return self.config.instance_regions[city_name];\n    } else {\n      // invalid city\n      $('#screen').show();\n      return self.config.default_region;\n    }\n  }\n\n  // Change city from within map without reloading window\n  changeCity(city_name, report_id, map, layers, togglePane) {\n    var self = this,\n        cityObj = self.parseCityObj(city_name);\n    // Remove previous layers\n    layers.removeFloodExtents(map);\n    layers.removeFloodGauges(map);\n    // Fly to new city bounds\n    map.flyToBounds([cityObj.bounds.sw, cityObj.bounds.ne])\n    .once('moveend zoomend', (e) => {\n      map.setMaxBounds([cityObj.bounds.sw, cityObj.bounds.ne]);\n    });\n    // Add new layers\n    if (cityObj.region !== 'java') {\n      layers.addFloodExtents(city_name, self.parseCityObj(city_name).region, map, togglePane);\n      layers.addFloodGauges(city_name, self.parseCityObj(city_name).region, map, togglePane);\n      return layers.addReports(city_name, self.parseCityObj(city_name).region, map, togglePane);\n    } else {\n      return new Promise((resolve, reject) => {\n        resolve();\n      });\n    }\n  }\n\n  noReportNotification(city_name, report_id) {\n    if (report_id && city_name) {\n      $.notify(\"Report id: \" + report_id + \" not found in \" + city_name, {style:\"mapInfo\", className:\"info\"});\n    } else if (city_name) {\n      $.notify(\"No reports found for \" + city_name, {style:\"mapInfo\", className:\"info\"});\n    } else if (!city_name) {\n      $.notify('Unsupported city', {style:\"mapInfo\", className:\"error\"});\n    }\n  }\n\n  onLocationFound(e) {\n    var self = this,\n        regions = self.config.instance_regions;\n    self.clientLocation = e;\n    for (let city in regions) {\n      self.clientCityIsValid = false;\n      if (e.latitude > regions[city].bounds.sw[0] && e.longitude > regions[city].bounds.sw[1] && e.latitude < regions[city].bounds.ne[0] && e.longitude < regions[city].bounds.ne[1]) {\n        self.clientCity = city;\n        self.clientCityIsValid = true;\n        break;\n      }\n    }\n  }\n\n  drawGpsMarkers(center, accuracy, map) {\n    this.gpsAccuracy = L.circle(center, {\n      weight: 0,\n      fillColor: '#31aade',\n      fillOpacity: 0.15,\n      radius: accuracy / 2\n    });\n    this.gpsMarker = L.circleMarker(center, {\n      color: 'white',\n      weight: 1,\n      fillColor: '#31aade',\n      fillOpacity: 1,\n      radius: 8\n    });\n    this.gpsAccuracy.addTo(map);\n    this.gpsMarker.addTo(map);\n  }\n\n  viewClientLocation(map, layers, togglePane) {\n    var self = this;\n    if (self.clientLocation) {\n      if (self.clientCityIsValid) {\n        //case 1: location found, location in a supported city\n        self.changeCity(self.clientCity, null, map, layers, true, togglePane);\n        map.flyTo(self.clientLocation.latlng, 15);\n        if (self.gpsMarker) {\n          self.gpsMarker.removeFrom(map);\n          self.gpsAccuracy.removeFrom(map);\n        }\n        map.once('moveend', () => { //execute only once, after fly to location ends, ignores user map drag events\n          self.drawGpsMarkers(self.clientLocation.latlng, self.clientLocation.accuracy, map);\n        });\n      } else {\n        //case 2: location found, but not in supported city\n        $.notify(\"Location out of bounds\", {style:\"mapInfo\", className:\"info\"});\n      }\n    } else {\n      //case 3: location not found\n      $.notify(\"GPS location not found\", {style:\"mapInfo\", className:\"error\"});\n    }\n  }\n\n  // Geolocation control button element & style\n  geolocateContainer(map, layers, togglePane) {\n    var self = this;\n    var container = L.DomUtil.create('div', 'leaflet-bar leaflet-control leaflet-control-custom');\n    container.innerHTML = '<i class=\"icon-geolocate\"></i>';\n    container.style.fontSize = '22px';\n    container.style.textAlign = 'center';\n    container.style.lineHeight = '30px';\n    container.style.backgroundColor = 'white';\n    container.style.width = '30px';\n    container.style.height = '30px';\n    container.style.cursor = 'pointer';\n    container.onclick = () => {\n      self.viewClientLocation(map, layers, togglePane);\n    };\n    return container;\n  }\n}\n","import {bindable, customElement} from 'aurelia-framework';\n\n//start-non-standard\n@customElement('flood-info')\n//end-non-standard\nexport class FloodInfo {\n  //start-non-standard\n  @bindable locale;\n  @bindable areaname;\n  @bindable districtname;\n  @bindable state;\n  @bindable updated;\n  //end-non-standard\n}\n","import {bindable, customElement} from 'aurelia-framework';\n\n//start-non-standard\n@customElement('gauge-info')\n//end-non-standard\nexport class GaugeInfo {\n  //start-non-standard\n  @bindable name;\n  //end-non-standard\n}\n","import {bindable, customElement} from 'aurelia-framework';\nimport env from '../../environment';\n\n//start-non-standard\n@customElement('report-info')\n//end-non-standard\nexport class ReportInfo {\n  //@bindable attributes do not work with camelCase...\n  //start-non-standard\n  @bindable locale;\n  @bindable imageurl;\n  @bindable height;\n  @bindable title;\n  @bindable text;\n  @bindable pkey;\n  @bindable city;\n  @bindable timestamp;\n  @bindable source;\n  //end-non-standard\n\n  constructor() {\n    this.links = {\n      qlue: 'https://play.google.com/store/apps/details?id=org.qluein.android&hl=en',\n      detik: 'http://pasangmata.detik.com/',\n      //start-non-standard\n      grasp: 'javascript:void(0)'\n      //end-non-standard\n    };\n  }\n\n  get msgText() {\n    return this.locale.report_info.share_msg;\n  }\n\n  get reportUrl() {\n    return env.app + \"map/\" + this.city + \"/\" + this.pkey;\n  }\n\n  attached() {\n    var self = this;\n    self.shareButtons = [ // Name string should match fontello icons name\n      {\n        name: \"twitter\",\n        intent: \"https://twitter.com/intent/tweet?text=\" + self.msgText + \"%20\" + self.reportUrl\n      },\n      {\n        name: \"telegram\",\n        intent: \"https://telegram.me/share/url?url={\" + self.reportUrl + \"}&text={\" + self.msgText + \"}\"\n      },\n      {\n        name: \"whatsapp\",\n        intent: \"whatsapp://send?text=\" + self.msgText + \"%20\" + self.reportUrl\n      },\n      {\n        name: \"facebook\",\n        intent: \"http://www.facebook.com/sharer/sharer.php?u=\" + self.reportUrl\n      }\n    ];\n  }\n}\n","import {bindable, customElement} from 'aurelia-framework';\nimport $ from 'jquery';\n\n//start-non-standard\n@customElement('side-pane')\n//end-non-standard\nexport class SidePane {\n  //@bindable attributes do not work with camelCase...\n  //start-non-standard\n  @bindable cities;\n  @bindable selected;\n  @bindable changeCity;\n  @bindable closePane;\n  @bindable reportId;\n  //end-non-standard\n\n  constructor() {\n    this.tabList = [\"report\", \"map\", \"info\"]; //elements match names of fontello icons\n    this.tab = \"report\";\n    this.languages = [\"en\", \"tm\", \"id\"];\n    this.selLanguage = \"en\";\n    this.locale = {};\n    this.videos = [\n      {\n        platform: \"twitter\", //Match string to locale/*/translation.json > report_content.*\n        source: {\n          \"id\": \"https://vimeo.com/179334464\", /*https://www.youtube.com/embed/Gb_BAAiRw2U?autoplay=0&origin=https://petabencana.id&rel=0*/\n          \"en\": \"https://vimeo.com/179334464\"\n        }\n      },\n      {\n        platform: \"telegram\",\n        source: {\n          \"id\": \"https://vimeo.com/179334464\",\n          \"en\": \"https://vimeo.com/179334464\"\n        }\n      },\n      {\n        platform: \"otherapps\",\n        source: {\n          \"id\": \"https://vimeo.com/179334464\",\n          \"en\": \"https://vimeo.com/179334464\"\n        }\n      }\n    ];\n    this.gauge_levels = [\n      {text: {\"en\": \"Alert Level 1\", \"id\": \"Siaga 1\"}, icon: '/assets/icons/floodgauge_1.svg'},\n      {text: {\"en\": \"Alert Level 2\", \"id\": \"Siaga 2\"}, icon: '/assets/icons/floodgauge_2.svg'},\n      {text: {\"en\": \"Alert Level 3\", \"id\": \"Siaga 3\"}, icon: '/assets/icons/floodgauge_3.svg'},\n      {text: {\"en\": \"Alert Level 4\", \"id\": \"Siaga 4\"}, icon: '/assets/icons/floodgauge_4.svg'}\n    ];\n    this.flood_depth = [\n      {text: {\"en\": \"> 150\", \"id\": \"> 150\"}, color: '#CC2A41'},\n      {text: {\"en\": \"71 - 150\", \"id\": \"71 - 150\"}, color: '#FF8300'},\n      {text: {\"en\": \"10 - 70\", \"id\": \"10 - 70\"}, color: '#FFFF00'},\n      {text: {\"en\": \"Use Caution\", \"id\": \"Hati-hati\"}, color: '#A0A9F7'}\n    ];\n  }\n\n  //on the fly language change\n  changeLanguage(lang) {\n    $.getJSON(\"../../../locales/\" + lang + \"/translation.json\", (data) => {\n      $.each(data, (key, val) => {\n        this.locale[key] = val;\n      });\n    });\n  }\n\n  attached() {\n    this.changeLanguage(this.selLanguage);\n    $('#' + this.selLanguage).addClass(\"active\");\n    $('#button-' + this.tab).addClass(\"active\");\n  }\n\n  switchTab(tab) {\n    $('.tabLinks').removeClass(\"active\");\n    $('#button-' + tab).addClass(\"active\");\n    this.tab = tab;\n  }\n\n  switchLang(lang) {\n    this.changeLanguage(lang);\n    $('.langLabels').removeClass(\"active\");\n    $('#' + lang).addClass(\"active\");\n  }\n\n  switchCity(city) {\n    this.changeCity(city, true);\n    this.reportId = null;\n    this.closePane();\n  }\n\n  showVideo(video) {\n    $('.videoWrapper:not(#vid_' + video + ')').slideUp(\"fast\");\n    $('#vid_' + video).slideToggle(\"fast\");\n    $('.labelRow:not(#label_' + video + ')').removeClass(\"active\");\n    $('#label_' + video).toggleClass(\"active\");\n    $('#down_' + video + ', #up_' + video).toggle();\n    $('.up:not(#up_' + video + ')').hide();\n    $('.down:not(#down_' + video + ')').show();\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport $ from 'jquery';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {HttpClient} from 'aurelia-http-client';\nimport {Config} from 'resources/config'; // Cards config\nimport {ReportCard} from 'resources/report-card';\n\n//start-non-standard\n@inject(EventAggregator, ReportCard, Config)\n//end-non-standard\nexport class Cards {\n  constructor(ea, ReportCard, Config) {\n    this.ea = ea;\n    this.data_src = Config.cards.data_server;\n    this.test_card = Config.cards.enable_test_cardid;\n    this.reportcard = ReportCard;\n    this.locale = this.reportcard.locale;\n    this.region_bounds = {};\n    for (let city in Config.map.instance_regions) {\n      this.region_bounds[city] = Config.map.instance_regions[city].bounds;\n    }\n  }\n\n  configureRouter(config, router) {\n    var self = this;\n    config.title = this.locale.page_title;\n    //TODO: fix issue with card numbers, this.router.routes array numbers\n    // when route: '' is added (IMPORTANT, '*foo' required mostly for dev,\n    // but also if user hits refresh & url is appended with route name)\n    // Alternatively: retain only '*foo' & append /report in url??\n    config.map([\n      {route: '*foo', moduleId: './card-landing/card-landing'}\n    ]);\n    config.mapUnknownRoutes({route: '/map'});\n    self.router = router;\n  }\n\n  activate(params) {\n    var self = this;\n    self.id = params.id;\n    if (params.disaster === 'flood' || params.disaster === 'hurricane') {\n      $.getJSON(\"./src/routes/card-decks/\" + params.disaster + \".json\", data => {\n        for (let obj of data) {\n          self.router.addRoute(obj);\n        }\n      }).then(() => {\n        $.getJSON(\"./src/routes/card-decks/staple.json\", data => {\n          for (let obj of data) {\n            self.router.addRoute(obj);\n          }\n        }).then(() => {\n          for (let route in self.router.routes) {\n            self.router.routes[route].settings = {cardNo: parseInt(route)};\n          }\n          self.router.refreshNavigation();\n        });\n      });\n    }\n  }\n\n  //switch on-the-fly\n  switchLang(lang) {\n    this.reportcard.changeLanguage(lang);\n    $('.langLabels').removeClass(\"active\");\n    $('#' + lang).addClass(\"active\");\n  }\n\n  resizeCardHt(factor) {\n    var glitchHeight = 106;\n    $('#cardContent').css({\n      'height': $('#cardWrapper').height() - ($('#cardTitle').height() + $('#cardNavigation').height() + (factor * glitchHeight)) + 'px'\n    });\n    $('#cardNavigation').css({\n      'bottom': (factor * glitchHeight) + 'px'\n    });\n  }\n\n  attached() {\n    var self = this;\n\n    $('#depthBG').attr('fill', '#ff0000');\n    var nua = navigator.userAgent.toLowerCase();\n    //______________is Mobile______________________an iPhone_________________browser not safari (in-app)___________app is twitter________________app is facebook______________not facebook messenger_________\n    if ((/Mobi/.test(navigator.userAgent)) && nua.indexOf('iphone') > -1 && nua.indexOf('safari') === -1 && (nua.indexOf('twitter') > -1 || (nua.indexOf('fban') > -1 && nua.indexOf('messenger') === -1))) {\n      self.resizeCardHt(1);\n    } else {\n      //Execute resize on initial page load\n      self.resizeCardHt(0);\n      //Add resize listener to browser window\n      $(window).resize(() => {\n        self.resizeCardHt(0);\n      });\n    }\n\n    self.totalCards = self.router.routes.length - 1; //exclude routes: '*foo' (card-landing)\n    $('#' + self.reportcard.selLanguage).addClass(\"active\");\n    $(document).ready(() => {\n      $('.tabButtons').width((100 / (self.totalCards - 3)) + '%'); //fit 'n' tab buttons on-the-fly, n = (total - staple) cards\n    });\n\n    let client = new HttpClient();\n\n    // Escape test in dev & local environment for 'test123'\n    //_______is Prod____________otl:test123_______\n    if (!self.test_card || self.id !== 'test123') {\n      //Navigate to location card OR error card, then resize card height to fill screen\n      client.get(self.data_src + 'cards/' + self.id)\n      .then(response => {\n         var msg = JSON.parse(response.response);\n         if (msg.result.received === true) {\n           // card already exists\n          self.reportcard.errors.text = self.locale.card_error_messages.already_received;\n          self.router.navigate('error', {replace: true});\n        } else {\n          // populate network property of reportcard, accessed in thanks card\n          self.reportcard.network = msg.result.network;\n          // proceed to first card\n          self.router.navigate(self.router.routes[1].route, {replace: true});\n        }\n      })\n      .catch(response => {\n        if (response.statusCode === 404) {\n          // error this card does not exist\n          self.reportcard.errors.code = response.statusCode;\n          self.reportcard.errors.text = self.locale.card_error_messages.unknown_link;\n          self.router.navigate('error', {replace: true});\n        } else {\n          // unhandled error\n          self.reportcard.errors.code = response.statusCode;\n          self.reportcard.errors.text = self.locale.card_error_messages.unknown_error + \" (\" + response.statusText + \")\";\n          self.router.navigate('error', {replace: true});\n        }\n      });\n    } else {\n      // proceed to first card\n      self.router.navigate(self.router.routes[1].route, {replace: true});\n    }\n\n    self.ea.subscribe('readTerms', msg => {\n      self.router.navigate('terms');\n    });\n\n    self.ea.subscribe('image', fileList => {\n      self.photoToUpload = fileList[0];\n    });\n\n    self.ea.subscribe('submit', report => {\n      client.put(self.data_src + 'cards/' + self.id, report)\n      .then(response => {\n        // now/also, send the image.\n        if (self.photoToUpload) {\n          console.log(self.photoToUpload);\n\n          let client = new HttpClient()\n          .configure(x => {\n            x.withBaseUrl(self.data_src); //REPLACE with aws s3 response url?\n            x.withHeader('Content-Type', self.photoToUpload.type);\n          });\n\n          //To get AWS Signed URL\n          client.get(self.data_src + 'cards/' + this.id + '/images')\n          .then(response => {\n            console.log(response);\n            var msg = JSON.parse(response.response);\n            var signedURL = msg.signedRequest;\n            console.log('signedURL');\n            console.log(signedURL);\n            //Post image to the Signed URL\n            $.ajax({\n              url: signedURL,\n              type: 'PUT',\n              data: self.photoToUpload,\n              contentType: false,\n              processData: false,\n              cache: false,\n              error: function (data) {\n                console.log(\"Error uploading image to AWS\");\n              },\n              success: function () {\n                console.log(\"Uploaded image to AWS successfully!\");\n                // Proceed to thanks page if report submit resolved & image uploaded;\n                self.router.navigate('thanks');\n              }\n            });\n\n          })\n          .catch(response => {\n            //Need to be updated based on Abe's server code\n          });\n        } else {\n          // Proceed to thanks page if report submit resolved\n          self.router.navigate('thanks');\n        }\n      })\n      .catch(response => {\n        console.log(response);\n        self.reportcard.errors.code = response.statusCode;\n        self.reportcard.errors.text = response.statusText;\n        self.router.navigate('error');\n        // resolve(null);\n      });\n    });\n\n    self.ea.subscribe('geolocate', error => {\n      self.showNotification(error, 'location_1', 'location_1', false);\n    });\n    self.ea.subscribe('upload', error => {\n      self.showNotification(error, 'photo_2', 'photo_2', false);\n    });\n    self.ea.subscribe('size', error => {\n      self.showNotification(error, 'photo_1', 'photo_1', false);\n    });\n  }\n\n  showNotification(type, header, message, bespoke) {\n    var self = this;\n    self.notify_type = type;\n    self.notify_header = header;\n    self.notify_message = message;\n    if (bespoke) {\n      self.notify_custom = true;\n    } else {\n      self.notify_custom = false;\n    }\n    if ($('#notifyWrapper').hasClass('active')) {\n      $('#notifyWrapper').finish();\n    }\n    $('#notifyWrapper').slideDown(300, () => {\n      $('#notifyWrapper').addClass('active');\n    }).delay(5000).slideUp(300, () => {\n      $('#notifyWrapper').removeClass('active');\n    });\n  }\n\n  closeNotification() {\n    if ($('#notifyWrapper').hasClass('active')) {\n      $('#notifyWrapper').dequeue();\n    }\n  }\n\n  logUserAgent() {\n    var nua = navigator.userAgent.toLowerCase();\n    this.showNotification('warning', 'User agent', nua, true);\n  }\n\n  get count() { //TODO navigation does not work unless getter is called from the DOM or elsewhere in js;\n    this.cardNo = this.router.currentInstruction.config.settings.cardNo;\n    return this.cardNo;\n  }\n  set count(val) {\n    this.cardNo = this.count + val;\n  }\n\n  isLocationSupported() {\n    var self = this,\n        l = self.reportcard.location.markerLocation;\n    self.reportcard.location.supported = false;\n    for (let city in self.region_bounds) {\n      if (l.lat > self.region_bounds[city].sw[0] && l.lng > self.region_bounds[city].sw[1] && l.lat < self.region_bounds[city].ne[0] && l.lng < self.region_bounds[city].ne[1]) {\n        self.reportcard.location.supported = true;\n        break;\n      }\n    }\n    return self.reportcard.location.supported;\n  }\n\n  nextCard() {\n    var self = this;\n    if (self.router.currentInstruction.fragment === 'location') {\n      if (self.isLocationSupported() || self.location_check) {\n        self.count = 1; //count setter to increment cardNo by 1\n        self.router.navigate(self.router.routes[self.cardNo].route);\n        self.closeNotification();\n      }\n      if (!self.location_check && !self.isLocationSupported()) {\n        self.showNotification('warning', 'location_2', 'location_2', false);\n        self.location_check = true; // execute once\n      }\n    } else if (self.router.currentInstruction.fragment !== 'location' && self.cardNo < self.totalCards) {\n      self.count = 1; //count setter to increment cardNo by 1\n      self.router.navigate(self.router.routes[self.cardNo].route);\n      self.closeNotification();\n    }\n  }\n  prevCard() {\n    if (this.cardNo > 1) {\n      this.count = -1;\n      this.router.navigate(this.router.routes[this.cardNo].route);\n    }\n  }\n\n  get nextDisabled() {\n    if (this.router.currentInstruction.fragment === 'location') {\n      return !this.reportcard.location.markerLocation;\n    } else {\n      return this.cardNo >= this.totalCards - 3; //Disable next button on review card (exclude staple card routes: terms, thanks, error)\n    }\n  }\n  get prevDisabled() {\n    return this.cardNo === 1;\n  }\n}\n","import $ from 'jquery';\n\nexport class Landing {\n  activate(params, routerConfig) {\n    if (params.city) {\n      this.queried_city = params.city;\n    }\n    this.report_id = params.report;\n  }\n\n  resizeSidePane() {\n    $('#sidePane').css({\n      'height': ($(window).height() - $('#topBar').height()) + 'px'\n    });\n  }\n\n  attached() {\n    // Modify side pane height on the fly\n    this.resizeSidePane();\n    $(window).resize(() => {\n      this.resizeSidePane();\n    });\n  }\n}\n","export class CardTemplate {\n  constructor() {\n  }\n\n  activate(params, routerConfig) {\n  }\n\n  attached() {\n  }\n}\n","export class CardLanding {\n\n}\n","import {inject} from 'aurelia-framework';\nimport {ReportCard} from 'resources/report-card';\n\n//start-non-standard\n@inject(ReportCard)\n//end-non-standard\nexport class Description {\n  constructor(ReportCard) {\n    this.reportcard = ReportCard;\n    if (/Mobi/.test(navigator.userAgent)) {\n      this.isMobile = true;\n    } else {\n      this.isMobile = false;\n    }\n  }\n\n  clearText() {\n    this.reportcard.description.value = null;\n  }\n\n  onBlur() {\n    if (this.isMobile) {\n      this.focussed = false;\n      $('#textarea').css({\n        'height': 192 + 'px'\n      });\n    }\n  }\n\n  onFocus() {\n    if (this.isMobile) {\n      this.focussed = true;\n      $('#textarea').css({\n        'height': 80 + 'px'\n      });\n    }\n  }\n\n  setFocus() {\n    $('#textarea').focus();\n    this.onFocus();\n  }\n}\n","import {ReportCard} from 'resources/report-card';\nimport {inject} from 'aurelia-framework';\n\n//start-non-standard\n@inject(ReportCard)\n//end-non-standard\nexport class Error {\n  constructor(ReportCard) {\n    this.reportcard = ReportCard;\n    this.errorCode = this.reportcard.errors.code;\n    this.errorText = this.reportcard.errors.text;\n    this.locale = this.reportcard.locale;\n  }\n\n  attached() {\n    /*\n    // Redirect to /map\n    window.setTimeout(function () {\n      window.location.replace('/map');\n    }, 3000);\n    */\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport $ from 'jquery';\nimport {ReportCard} from 'resources/report-card';\n\n//start-non-standard\n@inject(ReportCard)\n//end-non-standard\nexport class Depth {\n  constructor(ReportCard) {\n    this.reportcard = ReportCard;\n    this.sliderActive = false;\n    //Check for mobile or desktop device\n    if (/Mobi/.test(navigator.userAgent)) {\n      this.isMobile = true;\n    } else {\n      this.isMobile = false;\n    }\n  }\n\n  attached() {\n    $(document).ready(() => { //TODO: test if required\n      var self = this,\n          imgHeightCm = 220,\n          maxHtLimitCm = 195,\n          minHtLimitCm = 1,\n          refHeightPx = $('#bgImage').height(),\n          fillHeightPx,\n          reportHeightCm;\n      if (self.reportcard.depth) {\n        //reset value within limits\n        if (self.reportcard.depth > maxHtLimitCm) {\n          reportHeightCm = maxHtLimitCm;\n        } else if (self.reportcard.depth < minHtLimitCm) {\n          reportHeightCm = minHtLimitCm;\n        }\n        $('#floodZone').css({\n          'height': (self.reportcard.depth * refHeightPx / imgHeightCm) + 'px'\n        });\n      }\n      fillHeightPx = $('#floodZone').height();\n      $('#sliderZone').css({\n        'bottom': fillHeightPx + 'px'\n      });\n      reportHeightCm = (fillHeightPx * imgHeightCm) / refHeightPx;\n      self.reportcard.depth = Math.round(reportHeightCm);\n\n      //Touch start\n      $('#sliderZone').on('touchstart mousedown', function (e) {\n        self.sliderActive = true;\n        $('.knobHelper').fadeOut(100);\n        $('#knob').css({\n          'box-shadow': '0px 0px 12px 8px rgba(179, 214, 239, 0.5)'\n        });\n        var startPos;\n        if (self.isMobile) {\n          startPos = e.originalEvent.touches[0].pageY;\n        } else {\n          startPos = e.clientY;\n        }\n\n        //Drag start\n        $('#depthWrapper').on('touchmove mousemove', function (e) {\n          var dragPos;\n          if (self.isMobile) {\n            e.preventDefault();\n            dragPos = e.originalEvent.touches[0].pageY;\n          } else {\n            dragPos = e.clientY;\n          }\n          reportHeightCm = ((fillHeightPx + startPos - dragPos) * imgHeightCm) / refHeightPx;\n          if (self.sliderActive) {\n            if (reportHeightCm > minHtLimitCm && reportHeightCm < maxHtLimitCm) {\n              $('#floodZone').css({\n                'height': (fillHeightPx + startPos - dragPos) + 'px'\n              });\n              $('#sliderZone').css({\n                'bottom': (fillHeightPx + startPos - dragPos) + 'px'\n              });\n              self.reportcard.depth = Math.round(reportHeightCm);\n            } else if (reportHeightCm >= maxHtLimitCm) {\n              $('#floodZone').css({\n                'height': ((refHeightPx * maxHtLimitCm) / imgHeightCm) + 'px'\n              });\n              $('#sliderZone').css({\n                'bottom': ((refHeightPx * maxHtLimitCm) / imgHeightCm) + 'px'\n              });\n              self.reportcard.depth = maxHtLimitCm;\n            } else if (reportHeightCm <= minHtLimitCm) {\n              $('#floodZone').css({\n                'height': minHtLimitCm + 'px'\n              });\n              $('#sliderZone').css({\n                'bottom': minHtLimitCm + 'px'\n              });\n              self.reportcard.depth = minHtLimitCm;\n            }\n          }\n        });\n      });\n\n      //Drag end\n      $(document).on('touchend mouseup', function () {\n        if (self.sliderActive) {\n          self.sliderActive = false;\n          $('#knob').css({\n            'box-shadow': '0px 0px 12px 8px rgba(49, 170, 222, 0.4)'\n          });\n          $('.knobHelper').fadeIn(200);\n          fillHeightPx = $('#floodZone').height();\n        }\n      });\n    });\n  }\n}\n","import {Config} from 'resources/config'; // Cards config\nimport * as L from 'leaflet';\nimport {inject} from 'aurelia-framework';\nimport {ReportCard} from 'resources/report-card';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n//start-non-standard\n@inject(EventAggregator, ReportCard, Config)\n//end-non-standard\nexport class Location {\n  constructor(EventAggregator, ReportCard, Config) {\n    this.ea = EventAggregator;\n    this.reportcard = ReportCard;\n    this.tileLayer = Config.cards.tile_layer;\n  }\n\n  drawGpsMarkers(center, accuracy, map) {\n    L.circle(center, {\n      weight: 0,\n      fillColor: '#31aade',\n      fillOpacity: 0.15,\n      radius: accuracy / 2\n    }).addTo(map);\n    L.circleMarker(center, {\n      color: 'white',\n      weight: 1,\n      fillColor: '#31aade',\n      fillOpacity: 1,\n      radius: 8\n    }).addTo(map);\n  }\n\n  attached() {\n    $(document).ready(() => {\n\n      var self = this;\n\n      //Add leaflet map\n      self.map = L.map('mapWrapper', {\n        attributionControl: false,\n        center: [13.017163, 80.185031],\n        zoom: 15\n      });\n      L.tileLayer(self.tileLayer, {\n        detectRetina: true,\n        ext: 'png'\n      }).addTo(self.map);\n\n      //Add custom leaflet control, to navigate back to browser located user location\n      L.Control.GeoLocate = L.Control.extend({\n        onAdd: function (map) {\n          var container = L.DomUtil.create('div', 'leaflet-bar leaflet-control leaflet-control-custom');\n          container.innerHTML = '<i class=\"icon-geolocate\"></i>';\n          container.style.fontSize = '21px';\n          container.style.textAlign = 'center';\n          container.style.lineHeight = '30px';\n          container.style.color = 'black';\n          container.style.backgroundColor = 'white';\n          container.style.width = '30px';\n          container.style.height = '30px';\n          container.onclick = function() {\n            if (self.reportcard.location.gpsLocation) {\n              self.map.flyTo(self.reportcard.location.gpsLocation, 16);\n            }\n          };\n          return container;\n        }\n      });\n      L.control.geoLocate = function(opts) {\n        return new L.Control.GeoLocate(opts);\n      };\n\n      //If previous inputs available, setView to user selected location\n      if (self.reportcard.location.markerLocation) {\n        self.map.setView(self.reportcard.location.markerLocation, 15);\n        //If previous geolocation inputs available, add circle markers at gps location\n        if (self.reportcard.location.gpsLocation) {\n          L.control.geoLocate({position: 'bottomright'}).addTo(self.map);\n          self.drawGpsMarkers(self.reportcard.location.gpsLocation, self.reportcard.location.accuracy, self.map);\n        }\n      } else if (!!navigator.geolocation) {\n        //If previous inputs unavailable, i.e. at session start; try geolocation if supported by browser\n        self.map.locate({\n          setView: true\n        });\n        self.map.on('locationfound', (e) => {\n          L.control.geoLocate({position: 'bottomright'}).addTo(self.map);\n          self.drawGpsMarkers(e.latlng, e.accuracy, self.map);\n          self.reportcard.location = {markerLocation: e.latlng, gpsLocation: e.latlng, accuracy: e.accuracy};\n        });\n        //If geolocation unavailable, go to default city center;\n        self.map.on('locationerror', () => {\n          self.reportcard.location.markerLocation = self.map.getCenter();\n          self.ea.publish('geolocate', 'error');\n        });\n      } else {\n        //Go to default city center if geolocation not supported by browser\n        self.reportcard.location.markerLocation = self.map.getCenter();\n      }\n\n      //Get map center (corresponding to overlaid marker image) if user pans map\n      self.map.on('moveend', () => {\n        if (self.map) {\n          self.reportcard.location.markerLocation = self.map.getCenter();\n        }\n      });\n    });\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport $ from 'jquery';\nimport {ReportCard} from 'resources/report-card';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nvar wrapper;\nvar cntxt;\n\n//start-non-standard\n@inject(EventAggregator, ReportCard)\n//end-non-standard\nexport class Photo {\n  constructor(ea, ReportCard) {\n    this.ea = ea;\n    this.reportcard = ReportCard;\n    this.locale = this.reportcard.locale;\n    if (this.reportcard.photo.file) {\n      this.haveImg = true;\n    }\n    this.enableUpload = true;\n  }\n\n  uploadSupported() {\n    var nua = navigator.userAgent.toLowerCase();\n    var version;\n    if ((nua.indexOf('android') >= 0) && (nua.indexOf('chrome') === -1)) { //android device, no chrome (add opera? etc.)\n      var rest = nua.substring(nua.indexOf('android') + 8, nua.length);\n      version = rest.substring(0, 3); //2-digit android version\n      return (parseFloat(version) >= 4.4);\n    } else {\n      return true;\n    }\n  }\n\n  attached() {\n    if (this.uploadSupported()) {\n      wrapper = this.preview;\n      cntxt = wrapper.getContext('2d');\n      $('#previewWrapper').addClass('enabled');\n    } else {\n      this.ea.publish('upload', 'error');\n      this.enableUpload = false;\n    }\n    if (this.haveImg) {\n      this.drawImage(this.reportcard.photo.rotation);\n      $('#rotateButton').prop(\"disabled\", false);\n      $('#deleteButton').prop(\"disabled\", false);\n    }\n  }\n\n  sendClick() {\n    $('#ghostButton').trigger('click');\n    this.notify = false;\n  }\n\n  drawImage(deg) {\n    wrapper.width = $('#canvas').width();\n    wrapper.height = $('#canvas').height();\n    let reader = new FileReader();\n    reader.onload = (e) => {\n      let reviewImg = new Image();\n      reviewImg.onload = () => {\n        let imgW;\n        let imgH;\n        let trlX = -wrapper.width/2;\n        let trlY = -wrapper.height/2;\n        if (reviewImg.width >= reviewImg.height) {\n          imgH = wrapper.height;\n          imgW = Math.round((reviewImg.width * imgH) / reviewImg.height);\n          trlX = trlX + Math.round((wrapper.width - imgW) / 2);\n        } else {\n          imgW = wrapper.width;\n          imgH = Math.round((reviewImg.height * imgW) / reviewImg.width);\n          trlY = trlY + Math.round((wrapper.height - imgH) / 2);\n        }\n        cntxt.translate(wrapper.width / 2, wrapper.height / 2);\n        cntxt.rotate(deg * Math.PI / 180);\n        cntxt.drawImage(reviewImg, trlX, trlY, imgW, imgH);\n      };\n      reviewImg.src = e.target.result;\n    };\n    reader.readAsDataURL(this.reportcard.photo.file[0]);\n    $('#rotateButton').prop(\"disabled\", false);\n    $('#deleteButton').prop(\"disabled\", false);\n  }\n\n  sizeCheck() {\n    if (this.reportcard.photo.file[0]) {\n      if (this.reportcard.photo.file[0].size < 4404019) {\n        this.drawImage(0);\n      } else {\n        this.ea.publish('size', 'error');\n        this.reportcard.photo.file = null;\n      }\n    }\n  }\n\n  rotatePhoto() {\n    this.reportcard.photo.rotation += 90;\n    this.drawImage(this.reportcard.photo.rotation);\n  }\n\n  deletePhoto() {\n    cntxt.translate(-wrapper.width / 2, -wrapper.height / 2);\n    cntxt.clearRect(0, 0, wrapper.width, wrapper.height);\n    this.reportcard.photo.file = null;\n    $('#rotateButton').prop(\"disabled\", true);\n    $('#deleteButton').prop(\"disabled\", true);\n    this.reportcard.photo.rotation = 0;\n  }\n}\n","import {ReportCard} from 'resources/report-card';\nimport {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n//start-non-standard\n@inject(ReportCard, EventAggregator)\n//end-non-standard\nexport class Review {\n  constructor(ReportCard, ea) {\n    this.reportcard = ReportCard;\n    this.ea = ea;\n    var description = \"\";\n    if (this.reportcard.description.value) {\n      description = this.reportcard.description.value;\n    }\n    this.report = {\n      text: description,\n      water_depth: Math.round(this.reportcard.depth),\n      created_at: new Date().toISOString(),\n      image_url: '',\n      location: this.reportcard.location.markerLocation,\n    };\n    this.imageObject = this.reportcard.photo.file;\n\n    //Check for mobile or desktop device\n    if (/Mobi/.test(navigator.userAgent)) {\n      this.isMobile = true;\n    } else {\n      this.isMobile = false;\n    }\n  }\n\n  get checkRequiredInputs() { //TODO: Add checks for file / data types\n    if (this.report.location && this.report.water_depth && (this.imageObject || this.report.text)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  attached() {\n    $(document).ready(() => {\n      if (this.imageObject) {\n        this.drawImage(this.reportcard.photo.rotation);\n      }\n\n      var self = this;\n\n      if (this.checkRequiredInputs) {\n        var slideRange = $('#submitSlider').width() - $('#submitKnob').width(),\n            slideThreshold = 0.9,\n            slideTranslate = 0,\n            slidePressed = false;\n        self.swiped = false;\n\n        //Slider touch start\n        $('#submitKnob').on('touchstart mousedown', function (e) {\n          var slideStartPos;\n          if (self.isMobile) {\n            slideStartPos = e.originalEvent.touches[0].pageX;\n          } else {\n            slideStartPos = e.clientX;\n          }\n          slidePressed = true;\n\n          //Drag start\n          $('#reviewWrapper').on('touchmove mousemove', function (e) {\n            var slideDragPos;\n            if (self.isMobile) {\n              e.preventDefault();\n              slideDragPos = e.originalEvent.touches[0].pageX;\n            } else {\n              slideDragPos = e.clientX;\n            }\n            slideTranslate = slideDragPos - slideStartPos;\n            if (slidePressed && slideTranslate >= 0 && slideTranslate < slideRange) {\n              $('#submitKnob').css({\n                'left': slideTranslate + 'px'\n              });\n              $('#submitSlider').css({\n                'background-color': 'rgba(31, 73, 99, ' + (slideTranslate / (slideThreshold * slideRange)) + ')'\n              });\n\n              //Swipe threshold crossed\n              if (slideTranslate >= (slideThreshold * slideRange) && !self.swiped) {\n                self.swiped = true;\n                slidePressed = false;\n                self.ea.publish('submit', self.report);\n                self.ea.publish('image', self.imageObject);\n              }\n            }\n          });\n\n          //Drag end\n          $(window).on('touchend mouseup', function () {\n            if (slidePressed && slideTranslate < (slideThreshold * slideRange) && !self.swiped) {\n              slidePressed = false;\n              $('#submitKnob').animate({ //Swing back to start position\n                'left': 0 + 'px'\n              }, 50);\n              $('#submitSlider').css({ //Reset slider background\n                'background-color': 'transparent'\n              });\n            }\n          });\n        });\n      } else {\n        $('#submitKnob').css({\n          'background-color': '#a0a0a0'\n        });\n      }\n    });\n  }\n\n  readTerms() {\n    this.ea.publish('readTerms', 'click');\n  }\n\n  drawImage(deg) {\n    let wrapper = this.preview;\n    wrapper.width = $('#photo').width();\n    wrapper.height = $('#photo').height();\n    let reader = new FileReader();\n    reader.onload = (e) => {\n      let reviewImg = new Image();\n      reviewImg.onload = () => {\n        let imgW;\n        let imgH;\n        let trlX = -wrapper.width/2;\n        let trlY = -wrapper.height/2;\n        if (reviewImg.width >= reviewImg.height) {\n          imgH = wrapper.height;\n          imgW = Math.round((reviewImg.width * imgH) / reviewImg.height);\n          trlX = trlX + Math.round((wrapper.width - imgW) / 2);\n        } else {\n          imgW = wrapper.width;\n          imgH = Math.round((reviewImg.height * imgW) / reviewImg.width);\n          trlY = trlY + Math.round((wrapper.height - imgH) / 2);\n        }\n        let cntxt = wrapper.getContext('2d');\n        cntxt.translate(wrapper.width / 2, wrapper.height / 2);\n        cntxt.rotate(deg * Math.PI / 180);\n        cntxt.drawImage(reviewImg, trlX, trlY, imgW, imgH);\n      };\n      reviewImg.src = e.target.result;\n    };\n    reader.readAsDataURL(this.reportcard.photo.file[0]);\n  }\n}\n","import $ from 'jquery';\nimport {ReportCard} from 'resources/report-card';\nimport {inject} from 'aurelia-framework';\n\n//start-non-standard\n@inject(ReportCard)\n//end-non-standard\nexport class Terms {\n  constructor(ReportCard) {\n    this.locale = ReportCard.locale;\n  }\n}\n","import {ReportCard} from 'resources/report-card';\nimport {inject} from 'aurelia-framework';\n\n//start-non-standard\n@inject(ReportCard)\n//end-non-standard\nexport class Thanks {\n  constructor(ReportCard) {\n    this.reportcard = ReportCard;\n  }\n\n  attached() {\n    var self = this;\n    self.network_name = this.reportcard.network.charAt(0).toUpperCase() + this.reportcard.network.slice(1);\n    window.setTimeout(function () {\n      window.location.replace('/map');\n    }, 3000);\n  }\n}\n",null,null,null,"//@import '../../../assets/fonts/roboto/css/fonts.css';\n\n//__COLOR VARIABLES__\n//Card layouts & background fills\n@dark-gray:       #2f2f2f;\n@steel-gray:      #424242;\n@light-gray:      #808080;\n@snow-white:      #ffffff;\n@translucent-white: rgba(255, 255, 255, .85);\n@translucent-black: rgba(0, 0, 0, .8);\n@solid-black: #000000;\n\n//Card highlights\n@banjir-blue:     #31aade;\n@dark-blue:       #1f4963;\n@blue-hover: saturate(@banjir-blue, 100%);\n\n//Icons & graphs\n@flash-green:     #99cc33;\n@flash-yellow:    #ede838;\n@flash-orange:    #eaaf1c;\n@flash-red:       #ef4f21;\n@bencana-red:     #c1272d; //\n\n//Text\n@title-color:     #ffffff;\n@body-color:      #ffffff;\n@hint-color:             ; //appropriate gray\n@link-color:             ; //blue?\n@swap-color:             ; //dark gray or black on light gray BG, eg. logos\n@disabled-color:  #808080;\n\n//__SHADOW VARIABLES__\n//Shadow styles\n@drop-shadow:       0px 4px 8px 0px rgba(0, 0, 0, 0.4);\n@spread-shadow:     0px 6px 20px 0px rgba(0, 0, 0, 0.4);\n@inset-shadow:      inset 2px 5px 8px 0px rgba(0, 0, 0, 0.4);\n@boxshadow-normal:  2px 5px 8px 0px rgba(0, 0, 0, 0.4);\n@boxshadow-pressed: 2px 3px 6px 0px rgba(0, 0, 0, 0.4);\n\n\n//_Transform class_\n.translate-mixin(@x, @y) {\n  -ms-transform: translate(@x, @y);\n  -webkit-transform: translate(@x, @y);\n  transform: translate(@x, @y);\n}\n\n//_Font styles Variables_\n.bodylight-mixin(@var) {\n  font-family: \"Roboto-Light\", \"Roboto\", Open Sans;\n  font-size: @var;\n  color: @steel-gray;\n}\n\n.bodyregular-mixin(@var) {\n  font-family: \"Roboto\", \"Roboto\", Open Sans;\n  font-size: @var;\n  color: @steel-gray;\n}\n\n.bodymedium-mixin(@var) {\n  font-family: \"Roboto-Medium\", \"Roboto\", Open Sans;\n  font-size: @var;\n  color: @steel-gray;\n}\n\n.bodybold-mixin(@var) {\n  font-family: \"Roboto-Bold\", \"Roboto\", Open Sans;\n  font-size: @var;\n  color: @steel-gray;\n}\n\n.linklight-mixin(@var) {\n  font-family: \"Roboto-Light\", \"Roboto\", Open Sans;\n  font-size: @var;\n  color: @steel-gray;\n  cursor: pointer;\n  @media (min-width: 420px) {\n    &:hover {\n      color: @blue-hover;\n    }\n  }\n  &:active {\n    color: @dark-blue;\n  }\n}\n\n.linkmedium-mixin(@var) {\n  font-family: \"Roboto-Medium\", \"Roboto\", Open Sans;\n  font-size: @var;\n  color: @steel-gray;\n  cursor: pointer;\n  @media (min-width: 420px) {\n    &:hover {\n      color: @blue-hover;\n    }\n  }\n  &:active {\n    color: @dark-blue;\n  }\n}\n\n//Custom layout configs\n.fullspan-mixin() {\n  width: 100%;\n  height: 100%;\n  margin: 0px;\n  padding: 0px;\n}\n\n//Card variables\n.fixed-content-wrapper() {\n  position: absolute;\n  width: 300px;\n  height: 272px;\n  left: 50%;\n  top: 0px;\n  .translate-mixin(-50%, 0);\n  @media screen and (min-height: 372px) {\n    top: 50%;\n    .translate-mixin(-50%, -50%);\n  }\n  overflow: visible;\n}\n\n.inset-content-wrapper() {\n  position: relative;\n  width: 300px;\n  height: 280px;\n  margin: 0px auto;\n  padding: 30px 0px 0px 0px;\n  border: none;\n}\n\n//Map page variables\n@bar-heights: 45px;\n\n.mappane-mixin(@ht) {\n  display: none;\n  position: absolute;\n  @media screen {\n    @media (min-width: 320px) {\n      width: 100%;\n    }\n    @media (min-width: 420px) {\n      width: 420px;\n      right: 0px;\n    }\n  }\n  height: @ht; //configured to pre-set pixels here, change in js on the fly\n  bottom: 0px;\n  padding: 0px;\n  margin: 0px;\n  z-index: 1000;\n  background-color: @translucent-white;\n  box-shadow: @spread-shadow;\n}\n::-webkit-scrollbar {\n    display: none;\n}\n","@import \"./styleSheets/themeGuide.less\";\n\nbody, html {\n  background-color: @light-gray;\n  .fullspan-mixin;\n  overflow: hidden;\n}\n",null,null,null,null,null,"@import \"../../styleSheets/themeGuide.less\";\n\n#notifyWrapper {\n  position: absolute;\n  top: 0px;\n  width: 100%;\n  padding: 18px 0 0 0;\n  display: none;\n  background-color: fade(@dark-gray, 80%);\n  z-index: 1500;\n  & #symbol {\n    position: relative;\n    width: 18%;\n    float: left;\n    text-align: right;\n    font-size: 48px;\n    color: @banjir-blue;\n  }\n  & #msg {\n    position: relative;\n    width: 76%;\n    float: right;\n    text-align: left;\n    & h3 {\n      width: 90%;\n      margin: 11px 0;\n      padding: 0;\n      .bodymedium-mixin(21px);\n      color: @banjir-blue;\n    }\n    & p {\n      width: 90%;\n      margin: 0;\n      padding: 0 0 18px 0;\n      .bodylight-mixin(14px);\n      color: @snow-white;\n    }\n  }\n  & #closeNotification {\n    position: absolute;\n    top: 6px;\n    right: 8px;\n    .linklight-mixin(18px);\n    color: fade(@snow-white, 80%);\n  }\n}\n",null,null,null,"@import \"../../styleSheets/themeGuide.less\";\n\n#mapContainer {\n  position: absolute;\n  .fullspan-mixin;\n}\n\n#notification {\n  font-family: Roboto-Light, Roboto, sans-serif;\n  font-size: 12px;\n  white-space: nowrap;\n  padding: 5px;\n  border-radius: 5px;\n  color: #ffffff;\n  position: relative;\n  top: @bar-heights;\n}\n",null,null,"@import \"../../styleSheets/themeGuide.less\";\n\n#flood-title {\n  position: relative;\n  width: 92%;\n  & p {\n    margin: 0;\n    padding: 10px;\n    .bodymedium-mixin(14px);\n    color: @banjir-blue;\n    text-align: center;\n    & b {\n      color: @dark-gray;\n    }\n  }\n}\n\n#flood-state {\n  position: relative;\n  width: 92%;\n  & p {\n    margin: 0;\n    padding: 5px;\n    .bodymedium-mixin(14px);\n    color: @dark-gray;\n    text-align: center;\n  }\n  & #severity {\n    color: @banjir-blue;\n    text-transform: uppercase;\n  }\n  & #updated {\n    .bodylight-mixin(12px);\n  }\n}\n",null,null,"@import \"../../styleSheets/themeGuide.less\";\n\n#chart-title {\n  position: relative;\n  width: 92%;\n  & p {\n    margin: 0;\n    padding: 0;\n    .bodymedium-mixin(13px);\n    color: @banjir-blue;\n    text-align: center;\n  }\n}\n\n#chart-pane {\n  position: relative;\n  width: 92%;\n  & canvas {\n    width: 80%!important;\n    height: 80%!important;\n    margin: 0 auto;\n    padding: 0;\n  }\n}\n",null,null,null,"@import \"../../styleSheets/themeGuide.less\";\n\n#photoPreview {\n  position: relative;\n  width: 40%;\n  height: 90%;\n  float: left;\n  background-color: @solid-black;\n  & .image {\n    position: absolute;\n    top: 50%;\n    &#hasPhoto {\n      left: 50%;\n      max-width: 100%;\n      max-height: 100%;\n    }\n    &#noPhoto {\n      left: 40%;\n      font-size: 80px;\n      color: white;\n    }\n    .translate-mixin(-50%, -50%);\n    z-index: 2;\n  }\n}\n\n#textPreview {\n  position: relative;\n  width: 55%;\n  height: 90%;\n  float: right;\n  overflow:hidden;\n    & #bodyWrapper {\n    width: 85%;\n    height: 75%;\n    border-bottom: 1px solid @banjir-blue;\n    overflow-y: scroll;\n\n    & .textTitle {\n      .bodybold-mixin(14px);\n      padding: 0;\n      margin: 0 6px 6px 0;\n      color: @banjir-blue;\n    }\n    & #timeStamp, #source {\n      .bodylight-mixin(12px);\n      color: @light-gray;\n      width: 60%;\n      line-height: 18px;\n      margin: 0;\n      padding: 0;\n      & #sourceImg {\n        margin: 0;\n        padding: 0;\n      }\n    }\n    & #textBody {\n      .bodyregular-mixin(14px);\n      word-wrap: break-word;\n      padding: 0;\n      margin-top: 6px;\n    }\n  }\n  & #sourcelogo{\n    position: relative;\n    color: @light-gray;\n    width: 40%;\n    height: 20%;\n    float: right;\n    overflow: none;\n    border: solid 1px blue;\n    margin: 0 10px 0 0;\n  }\n  & #socialIcons {\n    position: absolute;\n    height: 18%;\n    bottom: 0px;\n    & a {\n      position: relative;\n      .linklight-mixin(20px);\n      text-decoration: none;\n      padding: 0 12px 0 0;\n    }\n  }\n}\n",null,null,"@import \"../../styleSheets/themeGuide.less\";\n\n#tabsBar {\n  position: relative;\n  width: 100%;\n  height: @bar-heights;\n  border: none;\n  border-bottom: 1px solid @banjir-blue;\n  & ul.tabs {\n    position: absolute;\n    bottom: -4px;\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    & li {\n      float: left;\n      height: 100%;\n      text-align: center;\n      &.paneTabs {\n        width: 24%;\n        & div.tabLinks {\n          width: 100%;\n          cursor: pointer;\n          line-height: 40px;\n          .bodylight-mixin(21px);\n          & p {\n            display: none;\n            position: absolute;\n            bottom: -75%;\n            width: 24%;\n            .bodylight-mixin(14px);\n            color: @banjir-blue;\n            line-height: 14px;\n            text-transform: capitalize;\n          }\n          &.active {\n            color: @banjir-blue;\n            border-bottom: 4px solid @banjir-blue;\n            & p {\n              display: block;\n            }\n          }\n          &:hover {\n            color: @blue-hover;\n            & p {\n              display: block;\n              color: @blue-hover;\n            }\n          }\n        }\n      }\n      &.langTab {\n        position: absolute;\n        right: 0;\n        width: 24%;\n        margin-top: 6px;\n        padding: 0;\n        & div {\n          position: relative;\n          float: left;\n          width: 30%;\n          height: 60%;\n          &:first-child {\n            border-right: 1px solid @banjir-blue;\n          }\n          & label {\n            .bodylight-mixin(16px);\n            line-height: 28px;\n            cursor: pointer;\n            &.active {\n              color: @banjir-blue;\n            }\n            &:hover {\n              color: @blue-hover;\n            }\n            & input {\n              display: none;\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\n#paneContent {\n  position: relative;\n  width: 100%;\n  & div.contentWrapper {\n    padding: 30px 12px 0 12px;\n\n    &#content-map {\n      overflow: hidden;\n      & p {\n        .bodymedium-mixin(14px);\n        margin-bottom: 8px;\n      }\n      & label {\n        .linklight-mixin(14px);\n        text-transform: capitalize;\n        padding-right: 10px;\n      }\n      & .normal {\n        .bodylight-mixin(14px);\n        text-transform: capitalize;\n        padding-right: 10px;\n        margin: 0;\n      }\n      & #legend {\n        margin-top: 20px;\n        border-bottom: 1px solid @banjir-blue;\n      }\n    }\n\n    &#content-info {\n      overflow: hidden;\n      & #headLogos {\n        width: 90%;\n        margin: auto;\n        table-layout: fixed;\n        & #usaidLogo {\n          width: 75%;\n        }\n        & #urlLogo {\n          width: 100%;\n        }\n      }\n      & p {\n        .bodyregular-mixin(14px);\n        width: 90%;\n        margin: 15px auto;\n        & a {\n          .linkmedium-mixin(14px);\n        }\n        & b {\n          .bodymedium-mixin(14px);\n          color: @banjir-blue;\n        }\n        &#intro {\n          .bodyregular-mixin(20px);\n          text-align: center;\n          margin: 12px auto;\n          width: 90%;\n        }\n        &#disclaimer {\n          & i {\n            .bodylight-mixin(14px);\n            color: @steel-gray;\n          }\n        }\n        &#usaid {\n          .bodylight-mixin(12px);\n          color: @steel-gray;\n        }\n\n      }\n      & #partners {\n        width: 90%;\n        margin: auto;\n        table-layout: fixed;\n        border-bottom: 1px solid @banjir-blue;\n        padding-bottom: 10px;\n\n        & tr.label {\n          height: 18px;\n          & p {\n            .bodylight-mixin(12px);\n            margin: 10px 0 4px 0;\n            padding: 0;\n          }\n        }\n        & .bnpbLogo {\n          width: 340px;\n        }\n        & .partnerLogo {\n          height: 35px;\n          width: auto;\n          padding: 5px;\n        }\n      }\n      & #pbLogo {\n        width: 90%;\n        margin: 8px auto;\n        text-align: center;\n        & img {\n          width: 180px;\n        }\n      }\n    }\n\n    &#content-report{\n      overflow: hidden;\n      & table, tr, td {\n        padding: 0;\n        width: 100%;\n      }\n      & table#reportTable {\n        & tr.vidRows {\n          & table.vidTable {\n            margin: 0;\n            & tr {\n              & td {\n                border-bottom: 1px solid @banjir-blue;\n                &.labelRow {\n                  cursor: pointer;\n                  border: none;\n                  .bodyregular-mixin(14px);\n                  &.active {\n                    color: @banjir-blue;\n                  }\n                  &:hover {\n                    color: @blue-hover;\n                  }\n                  & p {\n                    margin: 0;\n                    padding: 0;\n                    &.labelText {\n                      float: left;\n                    }\n                    &.arrows {\n                      float: right;\n                      display: block;\n                    }\n                    &.up {\n                      display: none;\n                    }\n                  }\n                }\n              }\n            }\n            & tr.wrapRow {\n              & .videoWrapper {\n                display: none;\n                width: 100%;\n                height: auto;\n                .bodyregular-mixin(14px);\n                & iframe {\n                  width: 100%;\n                  border: none;\n                }\n                & p {\n                  margin: 0;\n                  padding: 0;\n                  & ul {\n                    list-style: none;\n                    .bodylight-mixin(14px);\n                    line-height: 21px;\n                    padding: 0;\n                  }\n                  & a {\n                    .linklight-mixin(14px);\n                    line-height: 21px;\n                    & i {\n                      font-size: 18px;\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n",null,"@import '../../styleSheets/themeGuide.less';\n\n#cardWrapper {\n  @media screen {\n    position: relative;\n    @media (min-width: 240px) {\n      width: 100%;\n      @media (min-height: 200px) {\n        height: 100%;\n      }\n      @media (min-height: 720px) {\n        height: 720px;\n        box-shadow: @drop-shadow;\n      }\n    }\n    @media (min-width: 420px) {\n      width: 420px;\n      margin: auto;\n      box-shadow: @drop-shadow;\n      @media (min-height: 200px) {\n        height: 100%;\n      }\n      @media (min-height: 720px) {\n        height: 720px;\n      }\n    }\n  }\n}\n\n#cardTitle {\n  position: relative;\n  margin: 0px;\n  padding: 0px;\n  width: 100%;\n  height: 50px; /* height + padding-top + padding-bottom = 50px */\n  background-color: @steel-gray;\n  & #alert {\n    position: absolute;\n    top: 8px;\n    left: 6px;\n    cursor: pointer;\n    z-index: 10;\n    & p {\n      padding: 0;\n      margin: 0;\n      font-size: 26px;\n      color: @snow-white;\n      & i {\n        z-index: 5;\n      }\n    }\n  }\n  & #titleText {\n    position: absolute;\n    width: 100%;\n    font-family: \"Roboto Medium\", \"Roboto\", Open Sans;\n    color: @snow-white;\n    font-size: 16px;\n    text-align: center;\n  }\n  & #langSwitch {\n    position: absolute;\n    top: 18px;\n    right: 15px;\n    & label {\n      font-size: 14px;\n      font-family: \"Roboto Medium\", \"Roboto\", Open Sans;\n      color: @snow-white;\n      cursor: pointer;\n      & input {\n        display: none;\n      }\n      &:first-child {\n        border-right: 1px solid @snow-white;\n      }\n      &.active {\n        color: @banjir-blue;\n      }\n    }\n  }\n}\n\n#tabRow {\n  position: absolute;\n  width: 100%;\n  bottom: 0px;\n}\n\n.tabButtons {\n  position: relative;\n  margin: 0px;\n  padding: 0px;\n  width: 20%;\n  height: 5px;\n  border: none;\n  background-color: #31aade;\n  float: left;\n  outline: none;\n  &:disabled {\n    opacity: 0.25;\n  }\n}\n\n#cardContent {\n  position: relative;\n  width: 100%;\n  height: 50%; /*Change on the fly*/\n  text-align: center;\n  z-index: 3;\n  background-color: #808080;\n  overflow: hidden;\n}\n\n#cardNavigation {\n  position: absolute;\n  align-content: center;\n  margin: 0px;\n  padding: 0px;\n  background-color: #808080;\n  bottom: 0px;\n  width: 100%;\n  height: 50px;\n  overflow: hidden;\n  & .navBtn {\n    position: relative;\n    color: #ffffff;\n    width: 50%;\n    height: 50px;\n    font-family: \"Roboto-Medium\", \"Roboto\", Open Sans;\n    font-size: 16px;\n    line-height: 50px;\n    background: #424242;\n    border: none;\n    outline: none;\n    z-index: 4;\n    margin: 0px;\n    padding: 0px;\n    float: left;\n    &#prv {\n      border-right: 1px solid #808080;\n    }\n    &:disabled {\n      color: #5e5e5e;\n    }\n    &:active {\n      background: #5e5e5e;\n      transform: translateY(1px);\n    }\n  }\n}\n","@import \"../../styleSheets/themeGuide.less\";\n\n#pageWrapper {\n  position: absolute;\n  .fullspan-mixin;\n\n  & #screen {\n    position: absolute;\n    .fullspan-mixin;\n    background-color: rgba(128, 128, 128, 0.25);\n    z-index: 1025;\n    & #cityPopup {\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      width: 200px;\n      .translate-mixin(-50%, -50%);\n      padding: 12px;\n      border: none;\n      border-radius: 6px;\n      box-shadow: @spread-shadow;\n      z-index: 1030;\n      background: @translucent-white;\n      & p {\n        .bodymedium-mixin(14px);\n        margin: 0 0 6px 0;\n      }\n      & label {\n        .linklight-mixin(14px);\n        text-transform: capitalize;\n        text-decoration: none;\n      }\n    }\n  }\n\n  & #map {\n    position: absolute;\n    .fullspan-mixin;\n    & .leaflet-top {\n      top: @bar-heights;\n    }\n    & .leaflet-control-zoom {\n      & a {\n        background-color: @snow-white;\n      }\n      &-in, &-out {\n        width: 30px;\n        height: 28px;\n      }\n    }\n    & .leaflet-bottom {\n      bottom: 10px;\n      left: 10px;\n    }\n  }\n\n  & #topBar {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: @bar-heights;\n    background-color: @translucent-white;\n    z-index: 1020;\n    border-bottom: 1px solid @light-gray;\n    & #logo_top {\n      position: absolute;\n      left: 12px;\n      bottom: 2px;\n      width: 125px;\n      top:2px;\n      & #pbLogo {\n        width: 100%;\n              }\n    }\n    & div.menuBtn {\n      display: none;\n      position: absolute;\n      background: transparent;\n      top: 8px;\n      right: 10px;\n      line-height: 30px;\n      & i {\n        .linklight-mixin(30px);\n      }\n    }\n    & div.active {\n      display: block;\n    }\n  }\n\n  & #logo_bottom {\n    position: absolute;\n    left: 10px;\n    bottom: @bar-heights / 10;\n    width: 180px;\n    padding: 0px;\n    margin: 0px;\n    z-index: 999;\n    & #mitLogo {\n      width: 100%;\n    }\n  }\n\n  & #infoPane {\n    .mappane-mixin(200px);\n    background-color: @snow-white;\n    & .closeBtn {\n      position: absolute;\n      background: transparent;\n      margin: 0px;\n      padding: 0px;\n      top: 6px;\n      right: 6px;\n      text-align: right;\n      z-index: 1015;\n      .linkmedium-mixin(18px);\n    }\n    & .infoWrapper {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      padding: 12px 12px 0px 12px;\n      z-index: 1002;\n    }\n  }\n\n  & #sidePane {\n    .mappane-mixin(320px);\n    overflow: scroll;\n    background-color: @snow-white;\n  }\n}\n","@import '../../../styleSheets/themeGuide.less';\n\n#cardTemplateWrapper {\n  .fixed-content-wrapper; //full width, height relative to #cardContent\n}\n","@import '../../../styleSheets/themeGuide.less';\n\n#depthWrapper {\n  .fixed-content-wrapper;\n  & #bgImage {\n    width: 96%;\n    height: 96%;\n    z-index: 2;\n  }\n  & #floodZone {\n    position: absolute;\n    width: 87%;\n    height: 22%;\n    left: 6.5%;\n    bottom: 0px;\n    .translate-mixin(0, -12px);\n    border: none;\n    border-top: 2px dashed white;\n    background: linear-gradient(rgba(49, 170, 222, 0.6), rgba(49, 170, 222, 0));\n    z-index: 3;\n  }\n  & #sliderZone {\n    position: absolute;\n    width: 100%;\n    height: 36px;\n    left: 0px;\n    bottom: 22%;\n    .translate-mixin(0, 20%);\n    overflow: visible;\n    z-index: 10;\n    & #depthText {\n      position: absolute;\n      top: -4px;\n      left: 20px;\n      font-family: \"Roboto-Light\", \"Roboto\", Open Sans;\n      font-size: 14px;\n      color: @snow-white;\n      text-shadow: 1px 1px 3px @steel-gray;\n    }\n    & .knobHelper {\n      position: absolute;\n      right: 10.5px;\n      color: @translucent-white;\n      font-size: 12px;\n      line-height: 12px;\n      z-index: 9;\n      &#hTop {\n        top: -10px;\n      }\n      &#hBottom {\n        bottom: -5px;\n      }\n    }\n    & #knob {\n      position: absolute;\n      width: 18px;\n      height: 18px;\n      top: 5px;\n      right: 8px;\n      background-color: @banjir-blue;\n      border: 2px solid @snow-white;\n      border-radius: 11px; /* add border to width/2 */\n      z-index: 8;\n      box-shadow: 0px 0px 12px 8px rgba(49, 170, 222, 0.4);\n    }\n  }\n}\n","@import '../../../styleSheets/themeGuide.less';\n\n#descriptionWrapper {\n  .fixed-content-wrapper;\n\n  & #textarea {\n    position: relative;\n    width: 208px;\n    height: 192px;\n    margin: 8px 0 0 0;\n    padding: 6px;\n    font-family: \"Roboto-Light\", \"Roboto\", Open Sans;\n    color: @snow-white;\n    border: none;\n    font-size: 14px;\n    resize: none;\n    background-color: @light-gray;\n    outline: none;\n    &::-webkit-input-placeholder {\n      color: @dark-gray;\n    }\n    &::-moz-placeholder {\n      color: @dark-gray;\n    }\n    &:-moz-placeholder {\n      color: @dark-gray;\n    }\n    &:-ms-input-placeholder {\n      color: @dark-gray;\n    }\n    &:focus {\n      margin-top: 7px;\n      height: 191px;\n      border: 1px solid @banjir-blue;\n    }\n  }\n  & #modBtnWrapper {\n    position: relative;\n    width: 226px;\n    height: 36px;\n    border-top: 3px solid @banjir-blue;\n    margin: 12px auto;\n    & .modBtn {\n      position: relative;\n      width: 36px;\n      height: 36px;\n      padding: 3px 0 0 0;\n      margin: 0px;\n      background-color: transparent;\n      border: none;\n      color: @snow-white;\n      text-shadow: 1px 1px 2px @steel-gray;\n      outline: none;\n      float: left;\n      &:first-child {\n        margin-right: 6px;\n      }\n      & .icon-block {\n        line-height: 36px;\n        font-size: 20px;\n      }\n      & .icon-keyboard {\n        position: absolute;\n        font-size: 20px;\n        left: 3px;\n        bottom: 3.5px;\n      }\n      & .icon-down-open {\n        position: absolute;\n        font-size: 12px;\n        left: 8.5px;\n        bottom: -3px;\n      }\n      & .icon-up-open {\n        position: absolute;\n        font-size: 12px;\n        left: 8.5px;\n        bottom: 20px;\n      }\n      &:active {\n        border-bottom: 2px solid @banjir-blue;\n        color: @banjir-blue;\n      }\n      &:disabled {\n        border: none;\n        color: rgba(0, 0, 0, 0.15);\n        text-shadow: none;\n      }\n    }\n    & p {\n      margin: 0px;\n      padding: 12px 0px 0px 0px;\n      float: right;\n      .bodylight-mixin(14px);\n    }\n  }\n}\n","@import '../../../styleSheets/themeGuide.less';\n\n#petalogo {\n  position: relative;\n  width: 80%;\n  margin: 0 auto;\n  padding: 20px 0 10px 0;\n  border: none;\n  border-bottom: 1px solid @dark-gray;\n  & img {\n    width: 60%;\n  }\n}\n\n#msgWrapper {\n  position: relative;\n  width: 60%;\n  margin: auto;\n\n  & h2 {\n    .bodylight-mixin(21px);\n    color: @snow-white;\n  }\n  & p {\n    .bodylight-mixin(14px);\n    color: @snow-white;\n  }\n  & a {\n    .linkmedium-mixin(14px);\n    color: @snow-white;\n  }\n}\n\n#errorlogo{\n  position: relative;\n  margin: 10px auto 0 auto;\n  padding: 8px 0 0 0;\n  font-size: 80px;\n  color: @snow-white;\n}\n","@import '../../../styleSheets/themeGuide.less';\n\n#locationWrapper {\n  .fullspan-mixin;\n  & #mapWrapper {\n    position: relative;\n    .fullspan-mixin;\n    z-index: 1;\n  }\n  & #mapMarker {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    .translate-mixin(-50%, -90%);\n    font-size: 48px;\n    z-index: 100;\n  }\n}\n","@import '../../../styleSheets/themeGuide.less';\n\n#photoWrapper {\n  .fixed-content-wrapper;\n  & #modBtnWrapper {\n    position: relative;\n    margin: 12px auto;\n    width: 226px;\n    height: 36px;\n    border-top: 3px solid @banjir-blue;\n    & .modBtn {\n      position: relative;\n      width: 36px;\n      height: 36px;\n      padding: 3px 0 0 0;\n      background-color: transparent;\n      border: none;\n      font-size: 24px;\n      line-height: 36px;\n      color: @snow-white;\n      text-shadow: 1px 1px 2px @steel-gray;\n      outline: none;\n      &:active {\n        border-bottom: 2px solid @banjir-blue;\n        color: @banjir-blue;\n      }\n      &:disabled {\n        border: none;\n        color: rgba(0, 0, 0, 0.15);\n        text-shadow: none;\n      }\n    }\n    & #changeButton, #rotateButton {\n      float: left;\n      margin-right: 6px;\n    }\n    & #deleteButton {\n      float: right;\n    }\n  }\n  & #previewWrapper {\n    position: relative;\n    width: 208px;\n    height: 208px;\n    margin: 4px auto;\n    color: rgba(0, 0, 0, 0.15);\n    border: 2px solid @light-gray;\n    &.enabled {\n      color: rgba(255, 255, 255, 0.4);\n      border: 2px solid rgba(255, 255, 255, 0.4);\n      &:active i {\n        color: @banjir-blue;\n      }\n    }\n    & i {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      padding: 0px;\n      .translate-mixin(-50%, -50%);\n      font-size: 120px;\n      z-index: 2;\n    }\n    & canvas {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: 0px;\n      left: 0px;\n      z-index: 3;\n    }\n    & p {\n      position: absolute;\n      width: 100%;\n      top: 70%;\n      .bodylight-mixin(14px);\n    }\n  }\n}\n","@import '../../../styleSheets/themeGuide.less';\n\n#reviewWrapper {\n  .fixed-content-wrapper;\n  & #summaryCard {\n    position: absolute;\n    width: 100%;\n    height: 140px;\n    left: 50%;\n    top: 12px;\n    .translate-mixin(-50%, 0);\n    background-color: #424242;\n    box-shadow: @boxshadow-normal;\n    & #summaryPhoto {\n      position: relative;\n      width: 140px;\n      height: 100%;\n      overflow: hidden;\n      float: left;\n      text-align: left;\n      & #photo {\n        position: absolute;\n        .fullspan-mixin;\n        z-index: 3;\n      }\n      & i {\n        font-size: 80px;\n        line-height: 140px;\n        color: @snow-white;\n        z-index: 2;\n        opacity: 0.4;\n      }\n    }\n    & #summaryTextWrapper {\n      position: relative;\n      width: 50%;\n      height: 100%;\n      margin: 0;\n      text-align: left;\n      line-height: 18px;\n      float: right;\n      overflow: auto;\n      & #floodH {\n        color: @banjir-blue;\n        font-family: 'Roboto-Medium', 'Roboto', sans-serif;\n        font-size: 14px;\n        margin: 4px 10px 0 0;\n      }\n      & #comment {\n        color: @snow-white;\n        font-family: 'Roboto-Light', 'Roboto', sans-serif;\n        margin: 4px 10px 0 0;\n        font-size: 12px;\n      }\n    }\n  }\n  & #reviewSubmit {\n    position: absolute;\n    left: 50%;\n    bottom: 12px;\n    width: 100%; /* width of nav buttons + margin */\n    .translate-mixin(-50%, 0);\n    padding: 0px;\n    & #termsConditions {\n      width: 100%;\n      margin: 0 0 12px 0;\n      & p {\n        margin: 0;\n        padding: 0;\n        .bodylight-mixin(12px);\n        color: @snow-white;\n        & a {\n          cursor: pointer;\n          .linklight-mixin(12px);\n          color: @snow-white;\n        }\n      }\n    }\n    & #submitSlider {\n      position: relative;\n      width: 64%;\n      height: 36px;\n      margin: 0px auto;\n      padding: 3px;\n      border: 1px solid rgba(255, 255, 255, 0.4);\n      border-radius: 6px;\n      box-shadow: @inset-shadow;\n      overflow: hidden;\n      z-index: 3;\n      & #submitKnob {\n        position: relative;\n        width: 36px;\n        height: 36px;\n        border: none;\n        border-radius: 6px;\n        background-color: #31aade;\n        outline: none;\n        box-shadow: @boxshadow-normal;\n        float: left;\n        z-index: 2;\n        &:active {\n          background-color: #31aade;\n          box-shadow: @boxshadow-normal;\n        }\n      }\n      & .refText {\n        margin: 0px;\n        padding: 0px;\n        color: @snow-white;\n        opacity: 0.4;\n        z-index: 1;\n        float: left;\n        &#ref1 {\n          font-size: 30px;\n        }\n        &#ref2 {\n          font-size: 12px;\n          line-height: 36px;\n          font-family: 'Roboto-Light', 'Roboto', Open-sans;\n        }\n      }\n    }\n    & #spinWheel {\n      position: relative;\n      margin: 0 auto 18px auto;\n      z-index: 3;\n      font-size: 42px;\n      color: @banjir-blue;\n      text-shadow: 1px 1px 4px @steel-gray;\n    }\n  }\n}\n","#TandCWrapper {\n  position: relative;\n  width: 80%;\n  height: 80%;\n  margin: auto;\n  padding: 9px;\n  overflow: scroll;\n  color: #fff;\n  text-align: justify;\n  font-size: 12px;\n  font-family: 'Roboto-Normal', 'Helvetica Neue', sans-serif;\n  border:none;\n  border-bottom: 2px solid #31aade;\n  top: 3%;\n  transform: translateY(5%);\n}\n\n#TandCWrapper .headers {\n  text-align: left;\n  font-family: 'Roboto-Medium', 'Helvetica Neue', sans-serif;\n}\n","@import '../../../styleSheets/themeGuide.less';\n\n#thanksText {\n  position: relative;\n  width: 75%;\n  top: 50%;\n  left: 50%;\n  .translate-mixin(-50%, 0%);\n  color: #fff;\n  text-align: center;\n  font-size: 14px;\n  font-family: 'Roboto-Normal', 'Helvetica Neue', sans-serif;\n}\n\n\n\n#thanksBold {\n  color: white;\n  font-size: 21px;\n  font-family: 'Roboto-Medium', 'Helvetica Neue', sans-serif;\n}\n\n#petalogo {\n  position:relative;\n  padding: 5px 30px 5px 30px;\n  width: 60%;\n  top: 10px;\n  left: 50%;\n  .translate-mixin(-50%, 0);\n  border: none;\n  border-bottom: 1px solid #2f2f2f;\n}\n\n#thankslogo{\n  position: relative;\n  margin: 30px auto 0 auto;\n  padding: 5px 30px 5px 30px;\n  width: 60%;\n  font-size: 80px;\n  color: @snow-white;\n}\n"],"sourceRoot":"../src"}